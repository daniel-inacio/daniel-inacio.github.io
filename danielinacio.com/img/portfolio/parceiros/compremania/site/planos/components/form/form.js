/*
 *  Autotab - jQuery plugin
 * iphone checkbox
 * filestyle (file upload)
  * dualListBox 
  * jQuery SelectBox - https://github.com/claviska/jquery-selectBox 
 * Placeholder plugin for jQuery
 * rating_star
 * highlight text
 * textaer Elastic
 * Masked Input plugin for jQuery
 * confirm box
 *  vticker
 * scrolltopcontrol
 * sourcerer
 */
 
 /* Autotab - jQuery plugin 1.1b
 * http://www.lousyllama.com/sandbox/jquery-autotab
 */
(function($){var check_element=function(name){var obj=null;var check_id=$('#'+name);var check_name=$('input[name='+name+']');if(check_id.length)
obj=check_id;else if(check_name!=undefined)
obj=check_name;return obj;};$.fn.autotab_magic=function(focus){for(var i=0;i<this.length;i++)
{var n=i+1;var p=i-1;if(i>0&&n<this.length)
$(this[i]).autotab({target:$(this[n]),previous:$(this[p])});else if(i>0)
$(this[i]).autotab({previous:$(this[p])});else
$(this[i]).autotab({target:$(this[n])});if(focus!=null&&(isNaN(focus)&&focus==$(this[i]).attr('id'))||(!isNaN(focus)&&focus==i))
$(this[i]).focus();}
return this;};$.fn.autotab_filter=function(options){var defaults={format:'all',uppercase:false,lowercase:false,nospace:false,pattern:null};if(typeof options=='string'||typeof options=='function')
defaults.format=options;else
$.extend(defaults,options);for(var i=0;i<this.length;i++)
{$(this[i]).bind('keyup',function(e){var val=this.value;switch(defaults.format)
{case'text':var pattern=new RegExp('[0-9]+','g');val=val.replace(pattern,'');break;case'alpha':var pattern=new RegExp('[^a-zA-Z]+','g');val=val.replace(pattern,'');break;case'number':case'numeric':var pattern=new RegExp('[^0-9]+','g');val=val.replace(pattern,'');break;case'alphanumeric':var pattern=new RegExp('[^0-9a-zA-Z]+','g');val=val.replace(pattern,'');break;case'custom':var pattern=new RegExp(defaults.pattern,'g');val=val.replace(pattern,'');break;case'all':default:if(typeof defaults.format=='function')
var val=defaults.format(val);break;}
if(defaults.nospace)
{var pattern=new RegExp('[ ]+','g');val=val.replace(pattern,'');}
if(defaults.uppercase)
val=val.toUpperCase();if(defaults.lowercase)
val=val.toLowerCase();if(val!=this.value)
this.value=val;});}};$.fn.autotab=function(options){var defaults={format:'all',maxlength:2147483647,uppercase:false,lowercase:false,nospace:false,target:null,previous:null,pattern:null};$.extend(defaults,options);if(typeof defaults.target=='string')
defaults.target=check_element(defaults.target);if(typeof defaults.previous=='string')
defaults.previous=check_element(defaults.previous);var maxlength=$(this).attr('maxlength');if(defaults.maxlength==2147483647&&maxlength!=2147483647)
defaults.maxlength=maxlength;else if(defaults.maxlength>0)
$(this).attr('maxlength',defaults.maxlength)
else
defaults.target=null;if(defaults.format!='all')
$(this).autotab_filter(defaults);return $(this).bind('keydown',function(e){if(e.which==8&&this.value.length==0&&defaults.previous)
defaults.previous.focus().val(defaults.previous.val());}).bind('keyup',function(e){var keys=[8,9,16,17,18,19,20,27,33,34,35,36,37,38,39,40,45,46,144,145];if(e.which!=8)
{var val=$(this).val();if($.inArray(e.which,keys)==-1&&val.length==defaults.maxlength&&defaults.target)
defaults.target.focus();}});};})(jQuery);

 /* iphone checkbox */
(function(){var iOSCheckbox;var __slice=Array.prototype.slice;iOSCheckbox=(function(){function iOSCheckbox(elem,options){var key,opts,value;this.elem=$(elem);opts=$.extend({},iOSCheckbox.defaults,options);for(key in opts){value=opts[key];this[key]=value;}
this.elem.data(this.dataName,this);this.wrapCheckboxWithDivs();this.attachEvents();this.disableTextSelection();if(this.resizeHandle){this.optionallyResize('handle');}
if(this.resizeContainer){this.optionallyResize('container');}
this.initialPosition();}
iOSCheckbox.prototype.isDisabled=function(){return this.elem.is(':disabled');};iOSCheckbox.prototype.wrapCheckboxWithDivs=function(){this.elem.wrap("<div class='"+this.containerClass+"' />");this.container=this.elem.parent();this.offLabel=$("<label class='"+this.labelOffClass+"' style='width:"+this.labelWidth+"'>\n  <span>"+this.uncheckedLabel+"</span>\n</label>").appendTo(this.container);this.offSpan=this.offLabel.children('span');this.onLabel=$("<label class='"+this.labelOnClass+"'  style='width:"+this.labelWidth+"'>\n  <span>"+this.checkedLabel+"</span>\n</label>").appendTo(this.container);this.onSpan=this.onLabel.children('span');return this.handle=$("<div class='"+this.handleClass+"'>\n  <div class='"+this.handleRightClass+"'>\n    <div class='"+this.handleCenterClass+"' />\n  </div>\n</div>").appendTo(this.container);};iOSCheckbox.prototype.disableTextSelection=function(){if($.browser.msie){return $([this.handle,this.offLabel,this.onLabel,this.container]).attr("unselectable","on");}};iOSCheckbox.prototype._getDimension=function(elem,dimension){if($.fn.actual!=null){return elem.actual(dimension);}else{return elem[dimension]();}};iOSCheckbox.prototype.optionallyResize=function(mode){var newWidth,offLabelWidth,onLabelWidth;onLabelWidth=this._getDimension(this.onLabel,"width");offLabelWidth=this._getDimension(this.offLabel,"width");if(mode==="container"){newWidth=onLabelWidth>offLabelWidth?onLabelWidth:offLabelWidth;newWidth+=this._getDimension(this.handle,"width")+this.handleMargin;return this.container.css({width:newWidth});}else{newWidth=onLabelWidth>offLabelWidth?onLabelWidth:offLabelWidth;return this.handle.css({width:newWidth});}};iOSCheckbox.prototype.onMouseDown=function(event){var x;event.preventDefault();if(this.isDisabled()){return;}
x=event.pageX||event.originalEvent.changedTouches[0].pageX;iOSCheckbox.currentlyClicking=this.handle;iOSCheckbox.dragStartPosition=x;return iOSCheckbox.handleLeftOffset=parseInt(this.handle.css('left'),10)||0;};iOSCheckbox.prototype.onDragMove=function(event,x){var newWidth,p;if(iOSCheckbox.currentlyClicking!==this.handle){return;}
p=(x+iOSCheckbox.handleLeftOffset-iOSCheckbox.dragStartPosition)/this.rightSide;if(p<0){p=0;}
if(p>1){p=1;}
newWidth=p*this.rightSide;this.handle.css({left:newWidth});this.onLabel.css({width:newWidth+this.handleRadius});this.offSpan.css({marginRight:-newWidth});return this.onSpan.css({marginLeft:-(1-p)*this.rightSide});};iOSCheckbox.prototype.onDragEnd=function(event,x){var p;if(iOSCheckbox.currentlyClicking!==this.handle){return;}
if(this.isDisabled()){return;}
if(iOSCheckbox.dragging){p=(x-iOSCheckbox.dragStartPosition)/this.rightSide;this.elem.prop('checked',p>=0.5);}else{this.elem.prop('checked',!this.elem.prop('checked'));}
iOSCheckbox.currentlyClicking=null;iOSCheckbox.dragging=null;return this.didChange();};iOSCheckbox.prototype.refresh=function(){return this.didChange();};iOSCheckbox.prototype.didChange=function(){var new_left;if(typeof this.onChange==="function"){this.onChange(this.elem,this.elem.prop('checked'));}
if(this.isDisabled()){this.container.addClass(this.disabledClass);return false;}else{this.container.removeClass(this.disabledClass);}
new_left=this.elem.prop('checked')?this.rightSide:0;this.handle.animate({left:new_left},this.duration);this.onLabel.animate({width:new_left+this.handleRadius},this.duration);this.offSpan.animate({marginRight:-new_left},this.duration);return this.onSpan.animate({marginLeft:new_left-this.rightSide},this.duration);};iOSCheckbox.prototype.attachEvents=function(){var localMouseMove,localMouseUp,self;self=this;localMouseMove=function(event){return self.onGlobalMove.apply(self,arguments);};localMouseUp=function(event){self.onGlobalUp.apply(self,arguments);$(document).unbind('mousemove touchmove',localMouseMove);return $(document).unbind('mouseup touchend',localMouseUp);};return this.container.bind('mousedown touchstart',function(event){self.onMouseDown.apply(self,arguments);$(document).bind('mousemove touchmove',localMouseMove);return $(document).bind('mouseup touchend',localMouseUp);});};iOSCheckbox.prototype.initialPosition=function(){var containerWidth,offset;containerWidth=this._getDimension(this.container,"width");this.offLabel.css({width:containerWidth-this.containerRadius});offset=this.containerRadius+1;if($.browser.msie&&$.browser.version<7){offset-=3;}
this.rightSide=containerWidth-this._getDimension(this.handle,"width")-offset;if(this.elem.is(':checked')){this.handle.css({left:this.rightSide});this.onLabel.css({width:this.rightSide+this.handleRadius});this.offSpan.css({marginRight:-this.rightSide});}else{this.onLabel.css({width:0});this.onSpan.css({marginLeft:-this.rightSide});}
if(this.isDisabled()){return this.container.addClass(this.disabledClass);}};iOSCheckbox.prototype.onGlobalMove=function(event){var x;if(!(!this.isDisabled()&&iOSCheckbox.currentlyClicking)){return;}
event.preventDefault();x=event.pageX||event.originalEvent.changedTouches[0].pageX;if(!iOSCheckbox.dragging&&(Math.abs(iOSCheckbox.dragStartPosition-x)>this.dragThreshold)){iOSCheckbox.dragging=true;}
return this.onDragMove(event,x);};iOSCheckbox.prototype.onGlobalUp=function(event){var x;if(!iOSCheckbox.currentlyClicking){return;}
event.preventDefault();x=event.pageX||event.originalEvent.changedTouches[0].pageX;this.onDragEnd(event,x);return false;};iOSCheckbox.defaults={duration:150,checkedLabel:'ON',uncheckedLabel:'OFF',resizeHandle:true,resizeContainer:true,disabledClass:'iPhoneCheckDisabled',containerClass:'iPhoneCheckContainer',labelOnClass:'iPhoneCheckLabelOn',labelOffClass:'iPhoneCheckLabelOff',handleClass:'iPhoneCheckHandle',handleCenterClass:'iPhoneCheckHandleCenter',handleRightClass:'iPhoneCheckHandleRight',dragThreshold:5,handleMargin:15,handleRadius:4,containerRadius:5,dataName:"iphoneStyle",labelWidth:'31px',onChange:function(){}};return iOSCheckbox;})();$.iphoneStyle=this.iOSCheckbox=iOSCheckbox;$.fn.iphoneStyle=function(){var args,checkbox,dataName,existingControl,method,params,_i,_len,_ref,_ref2,_ref3,_ref4;args=1<=arguments.length?__slice.call(arguments,0):[];dataName=(_ref=(_ref2=args[0])!=null?_ref2.dataName:void 0)!=null?_ref:iOSCheckbox.defaults.dataName;_ref3=this.filter(':checkbox');for(_i=0,_len=_ref3.length;_i<_len;_i++){checkbox=_ref3[_i];existingControl=$(checkbox).data(dataName);if(existingControl!=null){method=args[0],params=2<=args.length?__slice.call(args,1):[];if((_ref4=existingControl[method])!=null){_ref4.apply(existingControl,params);}}else{new iOSCheckbox(checkbox,args[0]);}}
return this;};$.fn.iOSCheckbox=function(options){var opts;if(options==null){options={};}
opts=$.extend({},options,{resizeHandle:false,disabledClass:'iOSCheckDisabled',containerClass:'iOSCheckContainer',labelOnClass:'iOSCheckLabelOn',labelOffClass:'iOSCheckLabelOff',handleClass:'iOSCheckHandle',handleCenterClass:'iOSCheckHandleCenter',handleRightClass:'iOSCheckHandleRight',dataName:'iOSCheckbox'});return this.iphoneStyle(opts);};}).call(this);
jQuery.fn.limitInput=function(options){var options=options||{};var cbfs=this;var cbs=this.find('input:checkbox');var maxnum=options.max?options.max:2;cbs.each(function(){$(this).bind('click',function(){if($(this).is(':checked')){if(cbs.filter(':checked').length==maxnum){cbs.not(':checked').each(function(){$(this).attr('disabled','true');if(options.disablelabels){var thisid=$(this).attr('id');$('label[for="'+thisid+'"]').addClass('disabled');}});}}else{cbs.removeAttr('disabled');if(options.disablelabels){cbfs.find('label.disabled').removeClass('disabled');}}});});return this;}
jQuery.fn.customInput=function(){$(this).each(function(i){if($(this).is('[type=checkbox],[type=radio]')){var input=$(this);var id=input.attr('id');var forlabel=$('label[for='+input.attr('id')+']');var chklabel=forlabel.text();forlabel.hide();var label=$("<label  for='"+id+"' class='checker'>"+chklabel+"</label>");var inputType=(input.is('[type=checkbox]'))?'checkbox':'radio';$('<div class="custom-'+inputType+'"></div>').insertBefore(input).append(input,label);if(input.is(':disabled')){if(inputType=='checkbox'&&input.is(':checked')){label.addClass(' checkedDisabled ');}else{label.addClass(' disabled ');}}
label.hover(function(){if(!input.is(':disabled')){$(this).addClass('hover');}
if(inputType=='checkbox'&&input.is(':checked')&&!input.is(':disabled')){$(this).addClass('checkedHover');}},function(){$(this).removeClass('hover checkedHover focus');});input.bind('updateState',function(){if(input.is(':checked')&&!input.is(':disabled')){if(input.is(':radio')){var allInputs=$('input[name='+input.attr('name')+']');allInputs.each(function(){$('label[for='+$(this).attr('id')+']').removeClass('checked');});};label.addClass('checked ');}
else{label.removeClass('checked checkedHover checkedFocus ');}}).trigger('updateState').click(function(){$(this).trigger('updateState');}).focus(function(){label.addClass('focus');if(inputType=='checkbox'&&input.is(':checked')){$(this).addClass('checkedFocus');}}).blur(function(){label.removeClass('focus checkedFocus');});}});};

 /* filestyle */
(function($){$.fn.filestyle=function(options){var settings={width:250};if(options){$.extend(settings,options);};return this.each(function(){var self=this;var wrapper=$("<div class='filebtn'>").css({"width":"190px","height":"30px","background":"url('images/addFiles.png') 0 0 no-repeat","background-position":"right","display":"inline","position":"absolute","margin-left":"-168px",});var valname=$('.txtpart')
var filename=$('<input class="file" placeholder="Buscar Arquivo">').addClass($(self).attr("class")).css({"display":"inline","color":"#666666","font-size":"11px","width":"142px"});$(self).before(filename);$(self).wrap(wrapper);$(self).css({"position":"absolute","height":"30px","width":"170px","margin-left":"5px","display":"inline","cursor":"pointer","opacity":"0.0"});if($.browser.mozilla){if(/Win/.test(navigator.platform)){$(self).css("margin-left","-142px");}else{$(self).css("margin-left","-168px");};}else{$(self).css("margin-left",settings.imagewidth-settings.width+"px");};$(self).bind("change",function(){valname.html($(self).val());filename.val($(self).val());});});};})(jQuery);

/*
dualListBox 
*/
(function($){var settings=new Array();var group1=new Array();var group2=new Array();var onSort=new Array();$.configureBoxes=function(options){var index=settings.push({box1View:'box1View',box1Storage:'box1Storage',box1Filter:'box1Filter',box1Clear:'box1Clear',box1Counter:'box1Counter',box2View:'box2View',box2Storage:'box2Storage',box2Filter:'box2Filter',box2Clear:'box2Clear',box2Counter:'box2Counter',to1:'to1',allTo1:'allTo1',to2:'to2',allTo2:'allTo2',transferMode:'move',sortBy:'text',useFilters:true,useCounters:true,useSorting:true,selectOnSubmit:true});index--;$.extend(settings[index],options);group1.push({view:settings[index].box1View,storage:settings[index].box1Storage,filter:settings[index].box1Filter,clear:settings[index].box1Clear,counter:settings[index].box1Counter,index:index});group2.push({view:settings[index].box2View,storage:settings[index].box2Storage,filter:settings[index].box2Filter,clear:settings[index].box2Clear,counter:settings[index].box2Counter,index:index});if(settings[index].sortBy=='text'){onSort.push(function(a,b){var aVal=a.text.toLowerCase();var bVal=b.text.toLowerCase();if(aVal<bVal){return-1;}
if(aVal>bVal){return 1;}
return 0;});}else{onSort.push(function(a,b){var aVal=a.value.toLowerCase();var bVal=b.value.toLowerCase();if(aVal<bVal){return-1;}
if(aVal>bVal){return 1;}
return 0;});}
if(settings[index].useFilters){$('#'+group1[index].filter).keyup(function(){Filter(group1[index]);});$('#'+group2[index].filter).keyup(function(){Filter(group2[index]);});$('#'+group1[index].clear).click(function(){ClearFilter(group1[index]);});$('#'+group2[index].clear).click(function(){ClearFilter(group2[index]);});}
if(IsMoveMode(settings[index])){$('#'+group2[index].view).dblclick(function(){MoveSelected(group2[index],group1[index]);});$('#'+settings[index].to1).click(function(){MoveSelected(group2[index],group1[index]);});$('#'+settings[index].allTo1).click(function(){MoveAll(group2[index],group1[index]);});}else{$('#'+group2[index].view).dblclick(function(){RemoveSelected(group2[index],group1[index]);});$('#'+settings[index].to1).click(function(){RemoveSelected(group2[index],group1[index]);});$('#'+settings[index].allTo1).click(function(){RemoveAll(group2[index],group1[index]);});}
$('#'+group1[index].view).dblclick(function(){MoveSelected(group1[index],group2[index]);});$('#'+settings[index].to2).click(function(){MoveSelected(group1[index],group2[index]);});$('#'+settings[index].allTo2).click(function(){MoveAll(group1[index],group2[index]);});if(settings[index].useCounters){UpdateLabel(group1[index]);UpdateLabel(group2[index]);}
if(settings[index].useSorting){SortOptions(group1[index]);SortOptions(group2[index]);}
$('#'+group1[index].storage+',#'+group2[index].storage).css('display','none');if(settings[index].selectOnSubmit){$('#'+settings[index].box2View).closest('form').submit(function(){$('#'+settings[index].box2View).children('option').attr('selected','selected');});}};function UpdateLabel(group){var showingCount=$("#"+group.view+" option").size();var hiddenCount=$("#"+group.storage+" option").size();$("#"+group.counter).text('Showing '+showingCount+' of '+(showingCount+hiddenCount));}
function Filter(group){var index=group.index;var filterLower;if(settings[index].useFilters){filterLower=$('#'+group.filter).val().toString().toLowerCase();}else{filterLower='';}
$('#'+group.view+' option').filter(function(i){var toMatch=$(this).text().toString().toLowerCase();return toMatch.indexOf(filterLower)==-1;}).appendTo('#'+group.storage);$('#'+group.storage+' option').filter(function(i){var toMatch=$(this).text().toString().toLowerCase();return toMatch.indexOf(filterLower)!=-1;}).appendTo('#'+group.view);try{$('#'+group.view+' option').removeAttr('selected');}
catch(ex){}
if(settings[index].useSorting){SortOptions(group);}
if(settings[index].useCounters){UpdateLabel(group);}}
function SortOptions(group){var $toSortOptions=$('#'+group.view+' option');$toSortOptions.sort(onSort[group.index]);$('#'+group.view).empty().append($toSortOptions);}
function MoveSelected(fromGroup,toGroup){if(IsMoveMode(settings[fromGroup.index])){$('#'+fromGroup.view+' option:selected').appendTo('#'+toGroup.view);}else{$('#'+fromGroup.view+' option:selected:not([class*=copiedOption])').clone().appendTo('#'+toGroup.view).end().end().addClass('copiedOption');}
try{$('#'+fromGroup.view+' option,#'+toGroup.view+' option').removeAttr('selected');}
catch(ex){}
Filter(toGroup);if(settings[fromGroup.index].useCounters){UpdateLabel(fromGroup);}}
function MoveAll(fromGroup,toGroup){if(IsMoveMode(settings[fromGroup.index])){$('#'+fromGroup.view+' option').appendTo('#'+toGroup.view);}else{$('#'+fromGroup.view+' option:not([class*=copiedOption])').clone().appendTo('#'+toGroup.view).end().end().addClass('copiedOption');}
try{$('#'+fromGroup.view+' option,#'+toGroup.view+' option').removeAttr('selected');}
catch(ex){}
Filter(toGroup);if(settings[fromGroup.index].useCounters){UpdateLabel(fromGroup);}}
function RemoveSelected(removeGroup,otherGroup){$('#'+otherGroup.view+' option.copiedOption').add('#'+otherGroup.storage+' option.copiedOption').remove();try{$('#'+removeGroup.view+' option:selected').appendTo('#'+otherGroup.view).removeAttr('selected');}
catch(ex){}
$('#'+removeGroup.view+' option').add('#'+removeGroup.storage+' option').clone().addClass('copiedOption').appendTo('#'+otherGroup.view);Filter(otherGroup);if(settings[removeGroup.index].useCounters){UpdateLabel(removeGroup);}}
function RemoveAll(removeGroup,otherGroup){$('#'+otherGroup.view+' option.copiedOption').add('#'+otherGroup.storage+' option.copiedOption').remove();try{$('#'+removeGroup.storage+' option').clone().addClass('copiedOption').add('#'+removeGroup.view+' option').appendTo('#'+otherGroup.view).removeAttr('selected');}
catch(ex){}
Filter(otherGroup);if(settings[removeGroup.index].useCounters){UpdateLabel(removeGroup);}}
function ClearFilter(group){$('#'+group.filter).val('');$('#'+group.storage+' option').appendTo('#'+group.view);try{$('#'+group.view+' option').removeAttr('selected');}
catch(ex){}
if(settings[group.index].useSorting){SortOptions(group);}
if(settings[group.index].useCounters){UpdateLabel(group);}}
function IsMoveMode(currSettings){return currSettings.transferMode=='move';}})(jQuery);


/*
* Placeholder plugin for jQuery
*/
(function(b){function d(a){this.input=a;a.attr("type")=="password"&&this.handlePassword();b(a[0].form).submit(function(){if(a.hasClass("placeholder")&&a[0].value==a.attr("placeholder"))a[0].value=""})}d.prototype={show:function(a){if(this.input[0].value===""||a&&this.valueIsPlaceholder()){if(this.isPassword)try{this.input[0].setAttribute("type","text")}catch(b){this.input.before(this.fakePassword.show()).hide()}this.input.addClass("placeholder");this.input[0].value=this.input.attr("placeholder")}},
hide:function(){if(this.valueIsPlaceholder()&&this.input.hasClass("placeholder")&&(this.input.removeClass("placeholder"),this.input[0].value="",this.isPassword)){try{this.input[0].setAttribute("type","password")}catch(a){}this.input.show();this.input[0].focus()}},valueIsPlaceholder:function(){return this.input[0].value==this.input.attr("placeholder")},handlePassword:function(){var a=this.input;a.attr("realType","password");this.isPassword=!0;if(b.browser.msie&&a[0].outerHTML){var c=b(a[0].outerHTML.replace(/type=(['"])?password\1/gi,
"type=$1text$1"));this.fakePassword=c.val(a.attr("placeholder")).addClass("placeholder").focus(function(){a.trigger("focus");b(this).hide()});b(a[0].form).submit(function(){c.remove();a.show()})}}};var e=!!("placeholder"in document.createElement("input"));b.fn.placeholder=function(){return e?this:this.each(function(){var a=b(this),c=new d(a);c.show(!0);a.focus(function(){c.hide()});a.blur(function(){c.show(!1)});b.browser.msie&&(b(window).load(function(){a.val()&&a.removeClass("placeholder");c.show(!0)}),
a.focus(function(){if(this.value==""){var a=this.createTextRange();a.collapse(!0);a.moveStart("character",0);a.select()}}))})}})(jQuery);
 /* rating_star */
(function(a){a.fn.rating_star=function(p){var p=p||{};var b=p&&p.rating_star_length?p.rating_star_length:"5";var c=p&&p.rating_function_name?p.rating_function_name:"";var e=p&&p.rating_initial_value?p.rating_initial_value:"0";var d=p&&p.directory?p.directory:"images";var f=e;var g=a(this);b=parseInt(b);init();g.next("ul").children("li").hover(function(){$(this).parent().children("li").css('background-position','0px 0px');var a=$(this).parent().children("li").index($(this));$(this).parent().children("li").slice(0,a+1).css('background-position','0px -28px')},function(){});g.next("ul").children("li").click(function(){var a=$(this).parent().children("li").index($(this));f=a+1;g.val(f);if(c!=""){eval(c+"("+g.val()+")")}});g.next("ul").hover(function(){},function(){if(f==""){$(this).children("li").slice(0,f).css('background-position','0px 0px')}else{$(this).children("li").css('background-position','0px 0px');$(this).children("li").slice(0,f).css('background-position','0px -28px')}});function init(){$('<div style="clear:both;"></div>').insertAfter(g);g.css("float","left");var a=$("<ul>");a.addClass("rating_star");for(var i=1;i<=b;i++){a.append('<li style="background-image:url(images/star.png)"><span>'+i+'</span></li>')}
a.insertAfter(g);if(e!=""){f=e;g.val(e);g.next("ul").children("li").slice(0,f).css('background-position','0px -28px')}}}})(jQuery);
/*
highlight v4
<http://johannburkard.de/blog/programming/javascript/highlight-javascript-text-higlighting-jquery-plugin.html>
*/
jQuery.fn.highlight=function(c){function e(b,c){var d=0;if(3==b.nodeType){var a=b.data.toUpperCase().indexOf(c);if(0<=a){d=document.createElement("span");d.className="highlight";a=b.splitText(a);a.splitText(c.length);var f=a.cloneNode(!0);d.appendChild(f);a.parentNode.replaceChild(d,a);d=1}}else if(1==b.nodeType&&b.childNodes&&!/(script|style)/i.test(b.tagName))for(a=0;a<b.childNodes.length;++a)a+=e(b.childNodes[a],c);return d}return this.length&&c&&c.length?this.each(function(){e(this,c.toUpperCase())}): this};jQuery.fn.removeHighlight=function(){return this.find("span.highlight").each(function(){this.parentNode.firstChild.nodeName;with(this.parentNode)replaceChild(this.firstChild,this),normalize()}).end()};
/*
confirm box
*/
(function($){$.confirm=function(params){if($('#confirmOverlay').length){return false;}
var buttonHTML='';$.each(params.buttons,function(name,obj){buttonHTML+='<a href="#" class="uibutton large '+obj['class']+'">'+name+'<span></span></a>';if(!obj.action){obj.action=function(){};}});$('body').append('<div id="confirmOverlay"></div><div id="confirmBox"><h1>'+params.title+'</h1><p>'+params.message+'</p><div id="confirmButtons">'+buttonHTML+'</div></div>');$('#confirmOverlay').css('opacity',0.3).fadeIn(400,function(){$('#confirmBox').fadeIn(200);})
var buttons=$('#confirmBox .uibutton');i=0;$.each(params.buttons,function(name,obj){buttons.eq(i++).click(function(){obj.action();$.confirm.hide();return false;});});}
$.confirm.hide=function(){$('#confirmBox').fadeOut(function(){$(this).remove();$('#confirmOverlay').fadeOut(function(){$(this).delay(50).remove();});});}})(jQuery);
/*
Elastic
http://www.opensource.org/licenses/mit-license.php
*/
(function($){jQuery.fn.extend({elastic:function(){var mimics=['paddingTop','paddingRight','paddingBottom','paddingLeft','fontSize','lineHeight','fontFamily','width','fontWeight','border-top-width','border-right-width','border-bottom-width','border-left-width','borderTopStyle','borderTopColor','borderRightStyle','borderRightColor','borderBottomStyle','borderBottomColor','borderLeftStyle','borderLeftColor'];return this.each(function(){if(this.type!=='textarea'){return false;}
var $textarea=jQuery(this),$twin=jQuery('<div />').css({'position':'absolute','display':'none','word-wrap':'break-word','white-space':'pre-wrap'}),lineHeight=parseInt($textarea.css('line-height'),10)||parseInt($textarea.css('font-size'),'10'),minheight=parseInt($textarea.css('height'),10)||lineHeight*3,maxheight=parseInt($textarea.css('max-height'),10)||Number.MAX_VALUE,goalheight=0;if(maxheight<0){maxheight=Number.MAX_VALUE;}
$twin.appendTo($textarea.parent());var i=mimics.length;while(i--){$twin.css(mimics[i].toString(),$textarea.css(mimics[i].toString()));}
function setTwinWidth(){var curatedWidth=Math.floor(parseInt($textarea.width(),10));if($twin.width()!==curatedWidth){$twin.css({'width':curatedWidth+'px'});update(true);}}
function setHeightAndOverflow(height,overflow){var curratedHeight=Math.floor(parseInt(height,10));if($textarea.height()!==curratedHeight){$textarea.css({'height':curratedHeight+'px','overflow':overflow});}}
function update(forced){var textareaContent=$textarea.val().replace(/&/g,'&amp;').replace(/ {2}/g,'&nbsp;').replace(/<|>/g,'&gt;').replace(/\n/g,'<br />');var twinContent=$twin.html().replace(/<br>/ig,'<br />');if(forced||textareaContent+'&nbsp;'!==twinContent){$twin.html(textareaContent+'&nbsp;');if(Math.abs($twin.height()+lineHeight-$textarea.height())>3){var goalheight=$twin.height()+lineHeight;if(goalheight>=maxheight){setHeightAndOverflow(maxheight,'auto');}else if(goalheight<=minheight){setHeightAndOverflow(minheight,'hidden');}else{setHeightAndOverflow(goalheight,'hidden');}}}}
$textarea.css({'overflow':'hidden'});$textarea.bind('keyup change cut paste',function(){update();});$(window).bind('resize',setTwinWidth);$textarea.bind('resize',setTwinWidth);$textarea.bind('update',update);$textarea.bind('blur',function(){if($twin.height()<maxheight){if($twin.height()>minheight){$textarea.height($twin.height());}else{$textarea.height(minheight);}}});$textarea.bind('input paste',function(e){setTimeout(update,250);});update();});}});})(jQuery);(function($){$.fn.extend({limit:function(limit,element){var interval,f;var self=$(this);$(this).focus(function(){interval=window.setInterval(substring,100);});$(this).blur(function(){clearInterval(interval);substring();});substringFunction="function substring(){ var val = $(self).val();var length = val.length;if(length > limit){$(self).val($(self).val().substring(0,limit));}";if(typeof element!='undefined'){substringFunction+="if($(element).html() != limit-length){$(element).html((limit-length<=0)?'0':limit-length);}"
substringFunction+="}";eval(substringFunction);}}});})(jQuery);
/*
vticker 
*/
(function(a){a.fn.vTicker=function(b){var c={speed:700,pause:4000,showItems:3,animation:"",mousePause:true,isPaused:false,direction:"up",height:0};var b=a.extend(c,b);moveUp=function(g,d,e){if(e.isPaused){return}
var f=g.children("ul");var h=f.children("li:first").clone(true);if(e.height>0){d=f.children("li:first").height()}f.animate({top:"-="+d+"px"},e.speed,function(){a(this).children("li:first").remove();a(this).css("top","0px")});if(e.animation=="fade"){f.children("li:first").fadeOut(e.speed);if(e.height==0){f.children("li:eq("+e.showItems+")").hide().fadeIn(e.speed)}}h.appendTo(f)};moveDown=function(g,d,e){if(e.isPaused){return}var f=g.children("ul");var h=f.children("li:last").clone(true);if(e.height>0){d=f.children("li:first").height()}f.css("top","-"+d+"px").prepend(h);f.animate({top:0},e.speed,function(){a(this).children("li:last").remove()});if(e.animation=="fade"){if(e.height==0){f.children("li:eq("+e.showItems+")").fadeOut(e.speed)}f.children("li:first").hide().fadeIn(e.speed)}};return this.each(function(){var f=a(this);var e=0;f.css({overflow:"hidden",position:"relative"}).children("ul").css({position:"absolute",margin:0,padding:0}).children("li").css({margin:0,padding:0});if(b.height==0){f.children("ul").children("li").each(function(){if(a(this).height()>e){e=a(this).height()}});f.children("ul").children("li").each(function(){a(this).height(e)});f.height(e*b.showItems)}else{f.height(b.height)}var d=setInterval(function(){if(b.direction=="up"){moveUp(f,e,b)}else{moveDown(f,e,b)}},b.pause);if(b.mousePause){f.bind("mouseenter",function(){b.isPaused=true}).bind("mouseleave",function(){b.isPaused=false})}})}})(jQuery);
/* jQuery SelectBox - https://github.com/claviska/jquery-selectBox */
if(jQuery)(function($){$.extend($.fn,{selectBox:function(method,data){var typeTimer,typeSearch='',isMac=navigator.platform.match(/mac/i);var init=function(select,data){var options;if(navigator.userAgent.match(/iPad|iPhone|Android|IEMobile|BlackBerry/i))return false;if(select.tagName.toLowerCase()!=='select')return false;select=$(select);if(select.data('selectBox-control'))return false;var control=$('<a class="selectBox" />'),inline=select.attr('multiple')||parseInt(select.attr('size'))>1;var settings=data||{};control.width(select.outerWidth()).addClass(select.attr('class')).attr('title',select.attr('title')||'').attr('tabindex',parseInt(select.attr('tabindex'))).css('display','inline-block').bind('focus.selectBox',function(){if(this!==document.activeElement&&document.body!==document.activeElement)$(document.activeElement).blur();if(control.hasClass('selectBox-active'))return;control.addClass('selectBox-active');select.trigger('focus')}).bind('blur.selectBox',function(){if(!control.hasClass('selectBox-active'))return;control.removeClass('selectBox-active');select.trigger('blur')});if(!$(window).data('selectBox-bindings')){$(window).data('selectBox-bindings',true).bind('scroll.selectBox',hideMenus).bind('resize.selectBox',hideMenus)}if(select.attr('disabled'))control.addClass('selectBox-disabled');select.bind('click.selectBox',function(event){control.focus();event.preventDefault()});if(inline){options=getOptions(select,'inline');control.append(options).data('selectBox-options',options).addClass('selectBox-inline selectBox-menuShowing').bind('keydown.selectBox',function(event){handleKeyDown(select,event)}).bind('keypress.selectBox',function(event){handleKeyPress(select,event)}).bind('mousedown.selectBox',function(event){if($(event.target).is('A.selectBox-inline'))event.preventDefault();if(!control.hasClass('selectBox-focus'))control.focus()}).insertAfter(select);if(!select[0].style.height){var size=select.attr('size')?parseInt(select.attr('size')):5;var tmp=control.clone().removeAttr('id').css({position:'absolute',top:'-9999em'}).show().appendTo('body');tmp.find('.selectBox-options').html('<li><a>\u00A0</a></li>');var optionHeight=parseInt(tmp.find('.selectBox-options A:first').html('&nbsp;').outerHeight());tmp.remove();control.height(optionHeight*size)}disableSelection(control)}else{var label=$('<span class="selectBox-label" />'),arrow=$('<span class="selectBox-arrow" />');label.attr('class',getLabelClass(select)).text(getLabelText(select));options=getOptions(select,'dropdown');options.appendTo('BODY');control.data('selectBox-options',options).addClass('selectBox-dropdown').append(label).append(arrow).bind('mousedown.selectBox',function(event){if(control.hasClass('selectBox-menuShowing')){hideMenus()}else{event.stopPropagation();options.data('selectBox-down-at-x',event.screenX).data('selectBox-down-at-y',event.screenY);showMenu(select)}}).bind('keydown.selectBox',function(event){handleKeyDown(select,event)}).bind('keypress.selectBox',function(event){handleKeyPress(select,event)}).bind('open.selectBox',function(event,triggerData){if(triggerData&&triggerData._selectBox===true)return;showMenu(select)}).bind('close.selectBox',function(event,triggerData){if(triggerData&&triggerData._selectBox===true)return;hideMenus()}).insertAfter(select);var labelWidth=control.width()-arrow.outerWidth()-parseInt(label.css('paddingLeft'))-parseInt(label.css('paddingLeft'));label.width(labelWidth);disableSelection(control)}select.addClass('selectBox').data('selectBox-control',control).data('selectBox-settings',settings).hide()};var getOptions=function(select,type){var options;var _getOptions=function(select,options){select.children('OPTION, OPTGROUP').each(function(){if($(this).is('OPTION')){if($(this).length>0){generateOptions($(this),options)}else{options.append('<li>\u00A0</li>')}}else{var optgroup=$('<li class="selectBox-optgroup" />');optgroup.text($(this).attr('label'));options.append(optgroup);options=_getOptions($(this),options)}});return options};switch(type){case'inline':options=$('<ul class="selectBox-options" />');options=_getOptions(select,options);options.find('A').bind('mouseover.selectBox',function(event){addHover(select,$(this).parent())}).bind('mouseout.selectBox',function(event){removeHover(select,$(this).parent())}).bind('mousedown.selectBox',function(event){event.preventDefault();if(!select.selectBox('control').hasClass('selectBox-active'))select.selectBox('control').focus()}).bind('mouseup.selectBox',function(event){hideMenus();selectOption(select,$(this).parent(),event)});disableSelection(options);return options;case'dropdown':options=$('<ul class="selectBox-dropdown-menu selectBox-options" />');options=_getOptions(select,options);options.data('selectBox-select',select).css('display','none').appendTo('BODY').find('A').bind('mousedown.selectBox',function(event){event.preventDefault();if(event.screenX===options.data('selectBox-down-at-x')&&event.screenY===options.data('selectBox-down-at-y')){options.removeData('selectBox-down-at-x').removeData('selectBox-down-at-y');hideMenus()}}).bind('mouseup.selectBox',function(event){if(event.screenX===options.data('selectBox-down-at-x')&&event.screenY===options.data('selectBox-down-at-y')){return}else{options.removeData('selectBox-down-at-x').removeData('selectBox-down-at-y')}selectOption(select,$(this).parent());hideMenus()}).bind('mouseover.selectBox',function(event){addHover(select,$(this).parent())}).bind('mouseout.selectBox',function(event){removeHover(select,$(this).parent())});var classes=select.attr('class')||'';if(classes!==''){classes=classes.split(' ');for(var i in classes)options.addClass(classes[i]+'-selectBox-dropdown-menu')}disableSelection(options);return options}};var getLabelClass=function(select){var selected=$(select).find('OPTION:selected');return('selectBox-label '+(selected.attr('class')||'')).replace(/\s+$/,'')};var getLabelText=function(select){var selected=$(select).find('OPTION:selected');return selected.text()||'\u00A0'};var setLabel=function(select){select=$(select);var control=select.data('selectBox-control');if(!control)return;control.find('.selectBox-label').attr('class',getLabelClass(select)).text(getLabelText(select))};var destroy=function(select){select=$(select);var control=select.data('selectBox-control');if(!control)return;var options=control.data('selectBox-options');options.remove();control.remove();select.removeClass('selectBox').removeData('selectBox-control').data('selectBox-control',null).removeData('selectBox-settings').data('selectBox-settings',null).show()};var refresh=function(select){select=$(select);select.selectBox('options',select.html())};var showMenu=function(select){select=$(select);var control=select.data('selectBox-control'),settings=select.data('selectBox-settings'),options=control.data('selectBox-options');if(control.hasClass('selectBox-disabled'))return false;hideMenus();var borderBottomWidth=isNaN(control.css('borderBottomWidth'))?0:parseInt(control.css('borderBottomWidth'));options.width(control.innerWidth()).css({top:control.offset().top+control.outerHeight()-borderBottomWidth,left:control.offset().left});if(select.triggerHandler('beforeopen'))return false;var dispatchOpenEvent=function(){select.triggerHandler('open',{_selectBox:true})};switch(settings.menuTransition){case'fade':options.fadeIn(settings.menuSpeed,dispatchOpenEvent);break;case'slide':options.slideDown(settings.menuSpeed,dispatchOpenEvent);break;default:options.show(settings.menuSpeed,dispatchOpenEvent);break}if(!settings.menuSpeed)dispatchOpenEvent();var li=options.find('.selectBox-selected:first');keepOptionInView(select,li,true);addHover(select,li);control.addClass('selectBox-menuShowing');$(document).bind('mousedown.selectBox',function(event){if($(event.target).parents().andSelf().hasClass('selectBox-options'))return;hideMenus()})};var hideMenus=function(){if($(".selectBox-dropdown-menu:visible").length===0)return;$(document).unbind('mousedown.selectBox');$(".selectBox-dropdown-menu").each(function(){var options=$(this),select=options.data('selectBox-select'),control=select.data('selectBox-control'),settings=select.data('selectBox-settings');if(select.triggerHandler('beforeclose'))return false;var dispatchCloseEvent=function(){select.triggerHandler('close',{_selectBox:true})};if(settings){switch(settings.menuTransition){case'fade':options.fadeOut(settings.menuSpeed,dispatchCloseEvent);break;case'slide':options.slideUp(settings.menuSpeed,dispatchCloseEvent);break;default:options.hide(settings.menuSpeed,dispatchCloseEvent);break}if(!settings.menuSpeed)dispatchCloseEvent();control.removeClass('selectBox-menuShowing')}else{$(this).hide();$(this).triggerHandler('close',{_selectBox:true});$(this).removeClass('selectBox-menuShowing')}})};var selectOption=function(select,li,event){select=$(select);li=$(li);var control=select.data('selectBox-control'),settings=select.data('selectBox-settings');if(control.hasClass('selectBox-disabled'))return false;if(li.length===0||li.hasClass('selectBox-disabled'))return false;if(select.attr('multiple')){if(event.shiftKey&&control.data('selectBox-last-selected')){li.toggleClass('selectBox-selected');var affectedOptions;if(li.index()>control.data('selectBox-last-selected').index()){affectedOptions=li.siblings().slice(control.data('selectBox-last-selected').index(),li.index())}else{affectedOptions=li.siblings().slice(li.index(),control.data('selectBox-last-selected').index())}affectedOptions=affectedOptions.not('.selectBox-optgroup, .selectBox-disabled');if(li.hasClass('selectBox-selected')){affectedOptions.addClass('selectBox-selected')}else{affectedOptions.removeClass('selectBox-selected')}}else if((isMac&&event.metaKey)||(!isMac&&event.ctrlKey)){li.toggleClass('selectBox-selected')}else{li.siblings().removeClass('selectBox-selected');li.addClass('selectBox-selected')}}else{li.siblings().removeClass('selectBox-selected');li.addClass('selectBox-selected')}if(control.hasClass('selectBox-dropdown')){control.find('.selectBox-label').text(li.text())}var i=0,selection=[];if(select.attr('multiple')){control.find('.selectBox-selected A').each(function(){selection[i++]=$(this).attr('rel')})}else{selection=li.find('A').attr('rel')}control.data('selectBox-last-selected',li);if(select.val()!==selection){select.val(selection);setLabel(select);select.trigger('change')}return true};var addHover=function(select,li){select=$(select);li=$(li);var control=select.data('selectBox-control'),options=control.data('selectBox-options');options.find('.selectBox-hover').removeClass('selectBox-hover');li.addClass('selectBox-hover')};var removeHover=function(select,li){select=$(select);li=$(li);var control=select.data('selectBox-control'),options=control.data('selectBox-options');options.find('.selectBox-hover').removeClass('selectBox-hover')};var keepOptionInView=function(select,li,center){if(!li||li.length===0)return;select=$(select);var control=select.data('selectBox-control'),options=control.data('selectBox-options'),scrollBox=control.hasClass('selectBox-dropdown')?options:options.parent(),top=parseInt(li.offset().top-scrollBox.position().top),bottom=parseInt(top+li.outerHeight());if(center){scrollBox.scrollTop(li.offset().top-scrollBox.offset().top+scrollBox.scrollTop()-(scrollBox.height()/2))}else{if(top<0){scrollBox.scrollTop(li.offset().top-scrollBox.offset().top+scrollBox.scrollTop())}if(bottom>scrollBox.height()){scrollBox.scrollTop((li.offset().top+li.outerHeight())-scrollBox.offset().top+scrollBox.scrollTop()-scrollBox.height())}}};var handleKeyDown=function(select,event){select=$(select);var control=select.data('selectBox-control'),options=control.data('selectBox-options'),settings=select.data('selectBox-settings'),totalOptions=0,i=0;if(control.hasClass('selectBox-disabled'))return;switch(event.keyCode){case 8:event.preventDefault();typeSearch='';break;case 9:case 27:hideMenus();removeHover(select);break;case 13:if(control.hasClass('selectBox-menuShowing')){selectOption(select,options.find('LI.selectBox-hover:first'),event);if(control.hasClass('selectBox-dropdown'))hideMenus()}else{showMenu(select)}break;case 38:case 37:event.preventDefault();if(control.hasClass('selectBox-menuShowing')){var prev=options.find('.selectBox-hover').prev('LI');totalOptions=options.find('LI:not(.selectBox-optgroup)').length;i=0;while(prev.length===0||prev.hasClass('selectBox-disabled')||prev.hasClass('selectBox-optgroup')){prev=prev.prev('LI');if(prev.length===0){if(settings.loopOptions){prev=options.find('LI:last')}else{prev=options.find('LI:first')}}if(++i>=totalOptions)break}addHover(select,prev);selectOption(select,prev,event);keepOptionInView(select,prev)}else{showMenu(select)}break;case 40:case 39:event.preventDefault();if(control.hasClass('selectBox-menuShowing')){var next=options.find('.selectBox-hover').next('LI');totalOptions=options.find('LI:not(.selectBox-optgroup)').length;i=0;while(next.length===0||next.hasClass('selectBox-disabled')||next.hasClass('selectBox-optgroup')){next=next.next('LI');if(next.length===0){if(settings.loopOptions){next=options.find('LI:first')}else{next=options.find('LI:last')}}if(++i>=totalOptions)break}addHover(select,next);selectOption(select,next,event);keepOptionInView(select,next)}else{showMenu(select)}break}};var handleKeyPress=function(select,event){select=$(select);var control=select.data('selectBox-control'),options=control.data('selectBox-options');if(control.hasClass('selectBox-disabled'))return;switch(event.keyCode){case 9:case 27:case 13:case 38:case 37:case 40:case 39:break;default:if(!control.hasClass('selectBox-menuShowing'))showMenu(select);event.preventDefault();clearTimeout(typeTimer);typeSearch+=String.fromCharCode(event.charCode||event.keyCode);options.find('A').each(function(){if($(this).text().substr(0,typeSearch.length).toLowerCase()===typeSearch.toLowerCase()){addHover(select,$(this).parent());keepOptionInView(select,$(this).parent());return false}});typeTimer=setTimeout(function(){typeSearch=''},1000);break}};var enable=function(select){select=$(select);select.attr('disabled',false);var control=select.data('selectBox-control');if(!control)return;control.removeClass('selectBox-disabled')};var disable=function(select){select=$(select);select.attr('disabled',true);var control=select.data('selectBox-control');if(!control)return;control.addClass('selectBox-disabled')};var setValue=function(select,value){select=$(select);select.val(value);value=select.val();if(value===null){value=select.children().first().val();select.val(value)}var control=select.data('selectBox-control');if(!control)return;var settings=select.data('selectBox-settings'),options=control.data('selectBox-options');setLabel(select);options.find('.selectBox-selected').removeClass('selectBox-selected');options.find('A').each(function(){if(typeof(value)==='object'){for(var i=0;i<value.length;i++){if($(this).attr('rel')==value[i]){$(this).parent().addClass('selectBox-selected')}}}else{if($(this).attr('rel')==value){$(this).parent().addClass('selectBox-selected')}}});if(settings.change)settings.change.call(select)};var setOptions=function(select,options){select=$(select);var control=select.data('selectBox-control'),settings=select.data('selectBox-settings');switch(typeof(data)){case'string':select.html(data);break;case'object':select.html('');for(var i in data){if(data[i]===null)continue;if(typeof(data[i])==='object'){var optgroup=$('<optgroup label="'+i+'" />');for(var j in data[i]){optgroup.append('<option value="'+j+'">'+data[i][j]+'</option>')}select.append(optgroup)}else{var option=$('<option value="'+i+'">'+data[i]+'</option>');select.append(option)}}break}if(!control)return;control.data('selectBox-options').remove();var type=control.hasClass('selectBox-dropdown')?'dropdown':'inline';options=getOptions(select,type);control.data('selectBox-options',options);switch(type){case'inline':control.append(options);break;case'dropdown':setLabel(select);$("BODY").append(options);break}};var disableSelection=function(selector){$(selector).css('MozUserSelect','none').bind('selectstart',function(event){event.preventDefault()})};var generateOptions=function(self,options){var li=$('<li />'),a=$('<a />');li.addClass(self.attr('class'));li.data(self.data());a.attr('rel',self.val()).text(self.text());li.append(a);if(self.attr('disabled'))li.addClass('selectBox-disabled');if(self.attr('selected'))li.addClass('selectBox-selected');options.append(li)};switch(method){case'control':return $(this).data('selectBox-control');case'settings':if(!data)return $(this).data('selectBox-settings');$(this).each(function(){$(this).data('selectBox-settings',$.extend(true,$(this).data('selectBox-settings'),data))});break;case'options':if(data===undefined)return $(this).data('selectBox-control').data('selectBox-options');$(this).each(function(){setOptions(this,data)});break;case'value':if(data===undefined)return $(this).val();$(this).each(function(){setValue(this,data)});break;case'refresh':$(this).each(function(){refresh(this)});break;case'enable':$(this).each(function(){enable(this)});break;case'disable':$(this).each(function(){disable(this)});break;case'destroy':$(this).each(function(){destroy(this)});break;default:$(this).each(function(){init(this,method)});break}return $(this)}})})(jQuery);
/*
spinner 
*/
(function($){function getter(namespace,plugin,method,args){function getMethods(type){var methods=$[namespace][plugin][type]||[];return(typeof methods=='string'?methods.split(/,?\s+/):methods);}
var methods=getMethods('getter');if(args.length==1&&typeof args[0]=='string'){methods=methods.concat(getMethods('getterSetter'));}
return($.inArray(method,methods)!=-1);}
$.widget=function(name,prototype){var namespace=name.split(".")[0];name=name.split(".")[1];$.fn[name]=function(options){var isMethodCall=(typeof options=='string'),args=Array.prototype.slice.call(arguments,1);if(isMethodCall&&options.substring(0,1)=='_'){return this;}
if(isMethodCall&&getter(namespace,name,options,args)){var instance=$.data(this[0],name);return(instance?instance[options].apply(instance,args):undefined);}
return this.each(function(){var instance=$.data(this,name);(!instance&&!isMethodCall&&$.data(this,name,new $[namespace][name](this,options)));(instance&&isMethodCall&&$.isFunction(instance[options])&&instance[options].apply(instance,args));});};$[namespace]=$[namespace]||{};$[namespace][name]=function(element,options){var self=this;this.widgetName=name;this.widgetEventPrefix=$[namespace][name].eventPrefix||name;this.widgetBaseClass=namespace+'-'+name;this.options=$.extend({},$.widget.defaults,$[namespace][name].defaults,$.metadata&&$.metadata.get(element)[name],options);this.element=$(element).bind('setData.'+name,function(e,key,value){return self._setData(key,value);}).bind('getData.'+name,function(e,key){return self._getData(key);}).bind('remove',function(){return self.destroy();});this._init();};$[namespace][name].prototype=$.extend({},$.widget.prototype,prototype);$[namespace][name].getterSetter='option';};$.widget.prototype={_init:function(){},destroy:function(){this.element.removeData(this.widgetName);},option:function(key,value){var options=key,self=this;if(typeof key=="string"){if(value===undefined){return this._getData(key);}
options={};options[key]=value;}
$.each(options,function(key,value){self._setData(key,value);});},_getData:function(key){return this.options[key];},_setData:function(key,value){this.options[key]=value;if(key=='disabled'){this.element[value?'addClass':'removeClass'](this.widgetBaseClass+'-disabled');}},enable:function(){this._setData('disabled',false);},disable:function(){this._setData('disabled',true);},_trigger:function(type,e,data){var eventName=(type==this.widgetEventPrefix?type:this.widgetEventPrefix+type);e=e||$.event.fix({type:eventName,target:this.element[0]});return this.element.triggerHandler(eventName,[e,data],this.options[type]);}};$.widget.defaults={disabled:false};})(jQuery);(function($){$.widget('ui.spinner',{_init:function(){this._trigger('init',null,this.ui(null));if(typeof this.options.items[0]=='object'&&!this.element.is('input')){var data=this.options.items;for(var i=0;i<data.length;i++){this._addItem(data[i]);}}
this._decimals=parseInt(this.options.decimals,10);if(this.options.stepping.toString().indexOf('.')!=-1){var s=this.options.stepping.toString();this._decimals=s.slice(s.indexOf('.')+1,s.length).length;}
var self=this;this.element.addClass('ui-spinner-box').attr('autocomplete','off');this._setValue(isNaN(this._getValue())?this.options.start:this._getValue());this.element.wrap('<div>').parent().addClass('ui-spinner').append('<button class="ui-spinner-up" type="button"></button>').find('.ui-spinner-up').bind('mousedown',function(e){$(this).addClass('ui-spinner-pressed');if(!self.counter){self.counter=1;}
self._mousedown(100,'_up',e);}).bind('mouseup',function(e){$(this).removeClass('ui-spinner-pressed');if(self.counter==1){self._up(e);}
self._mouseup(e);}).bind('mouseout',function(e){$(this).removeClass('ui-spinner-pressed');if(self.timer){self._mouseup(e);}}).bind('dblclick',function(e){$(this).removeClass('ui-spinner-pressed');self._up(e);self._mouseup(e);}).bind('keydown.spinner',function(e){var KEYS=$.keyCode;if(e.keyCode==KEYS.SPACE||e.keyCode==KEYS.ENTER){$(this).addClass('ui-spinner-pressed');if(!self.counter){self.counter=1;}
self._up.call(self,e);}else if(e.keyCode==KEYS.DOWN||e.keyCode==KEYS.RIGHT){self.element.siblings('.ui-spinner-down').focus();}else if(e.keyCode==KEYS.LEFT){self.element.focus();}}).bind('keyup.spinner',function(e){$(this).removeClass('ui-spinner-pressed');self.counter=0;self._propagate('change',e);}).end().append('<button class="ui-spinner-down" type="button"></button>').find('.ui-spinner-down').bind('mousedown',function(e){$(this).addClass('ui-spinner-pressed');if(!self.counter){self.counter=1;}
self._mousedown(100,'_down',e);}).bind('mouseup',function(e){$(this).removeClass('ui-spinner-pressed');if(self.counter==1){self._down();}
self._mouseup(e);}).bind('mouseout',function(e){$(this).removeClass('ui-spinner-pressed');if(self.timer){self._mouseup(e);}}).bind('dblclick',function(e){$(this).removeClass('ui-spinner-pressed');self._down(e);self._mouseup(e);}).bind('keydown.spinner',function(e){var KEYS=$.keyCode;if(e.keyCode==KEYS.SPACE||e.keyCode==KEYS.ENTER){$(this).addClass('ui-spinner-pressed');if(!self.counter){self.counter=1;}
self._down.call(self,e);}else if(e.keyCode==KEYS.UP||e.keyCode==KEYS.LEFT){self.element.siblings('.ui-spinner-up').focus();}}).bind('keyup.spinner',function(e){$(this).removeClass('ui-spinner-pressed');self.counter=0;self._propagate('change',e);}).end();this._items=this.element.children().length;if(this._items>1){var height=this.element.outerHeight()/this._items;this.element.addClass('ui-spinner-list').height(height).children().addClass('ui-spinner-listitem').height(height).css('overflow','hidden').end().parent().height(height).end();this.options.stepping=1;this.options.min=0;this.options.max=this._items-1;}
this.element.bind('keydown.spinner',function(e){if(!self.counter){self.counter=1;}
return self._keydown.call(self,e);}).bind('keyup.spinner',function(e){self.counter=0;self._propagate('change',e);}).bind('blur.spinner',function(e){self._cleanUp();});if($.fn.mousewheel){this.element.mousewheel(function(e,delta){self._mousewheel(e,delta);});}},_constrain:function(){if(this.options.min!=undefined&&this._getValue()<this.options.min){this._setValue(this.options.min);}
if(this.options.max!=undefined&&this._getValue()>this.options.max){this._setValue(this.options.max);}},_cleanUp:function(){this._setValue(this._getValue());this._constrain();},_spin:function(d,e){if(this.disabled){return;}
if(isNaN(this._getValue())){this._setValue(this.options.start);}
this._setValue(this._getValue()+(d=='up'?1:-1)*(this.options.incremental&&this.counter>100?(this.counter>200?100:10):1)*this.options.stepping);this._animate(d);this._constrain();if(this.counter){this.counter++;}
this._propagate('spin',e);},_down:function(e){this._spin('down',e);this._propagate('down',e);},_up:function(e){this._spin('up',e);this._propagate('up',e);},_mousedown:function(i,d,e){var self=this;i=i||100;if(this.timer){window.clearInterval(this.timer);this.timer=0;}
this.timer=window.setInterval(function(){self[d](e);if(self.counter>20){self._mousedown(20,d,e);}},i);},_mouseup:function(e){this.counter=0;if(this.timer){window.clearInterval(this.timer);this.timer=0;}
this.element[0].focus();this._propagate('change',e);},_keydown:function(e){var KEYS=$.keyCode;if(e.keyCode==KEYS.UP){this._up(e);}
if(e.keyCode==KEYS.DOWN){this._down(e);}
if(e.keyCode==KEYS.HOME){this._setValue(this.options.min||this.options.start);}
if(e.keyCode==KEYS.END&&this.options.max!=undefined){this._setValue(this.options.max);}
return(e.keyCode==KEYS.TAB||e.keyCode==KEYS.BACKSPACE||e.keyCode==KEYS.LEFT||e.keyCode==KEYS.RIGHT||e.keyCode==KEYS.PERIOD||e.keyCode==KEYS.NUMPAD_DECIMAL||e.keyCode==KEYS.NUMPAD_SUBTRACT||(e.keyCode>=96&&e.keyCode<=105)||(/[0-9\-\.]/).test(String.fromCharCode(e.keyCode)))?true:false;},_mousewheel:function(e,delta){var self=this;delta=($.browser.opera?-delta/Math.abs(delta):delta);(delta>0?self._up(e):self._down(e));if(self.timeout){window.clearTimeout(self.timeout);self.timeout=0;}
self.timeout=window.setTimeout(function(){self._propagate('change',e)},400);e.preventDefault();},_getValue:function(){return parseFloat(this.element.val().replace(/[^0-9\-\.]/g,''));},_setValue:function(newVal){if(isNaN(newVal)){newVal=this.options.start;}
this.element.val(this.options.currency?$.ui.spinner.format.currency(newVal,this.options.currency):$.ui.spinner.format.number(newVal,this._decimals));},_animate:function(d){if(this.element.hasClass('ui-spinner-list')&&((d=='up'&&this._getValue()<=this.options.max)||(d=='down'&&this._getValue()>=this.options.min))){this.element.animate({marginTop:'-'+this._getValue()*this.element.parent().height()},{duration:'fast',queue:false});}},_addItem:function(obj,fmt){if(!this.element.is('input')){var wrapper='div';if(this.element.is('ol')||this.element.is('ul')){wrapper='li';}
var html=obj;if(typeof obj=='object'){var format=(fmt!==undefined?fmt:this.options.format);html=format.replace(/%(\(([^)]+)\))?/g,(function(data){return function(match,a,lbl){if(!lbl){for(var itm in data){return data[itm];}}else{return data[lbl];}};})(obj));}
this.element.append('<'+wrapper+' class="ui-spinner-data">'+html+'</'+wrapper+'>');}},plugins:{},ui:function(e){return{options:this.options,element:this.element,value:this._getValue(),add:this._addItem};},_propagate:function(n,e){$.ui.plugin.call(this,n,[e,this.ui()]);return this.element.triggerHandler(n=='spin'?n:'spin'+n,[e,this.ui()],this.options[n]);},destroy:function(){if(!$.data(this.element[0],'spinner')){return;}
if($.fn.mousewheel){this.element.unmousewheel();}
this.element.removeClass('ui-spinner-box ui-spinner-list').removeAttr('disabled').removeAttr('autocomplete').removeData('spinner').unbind('.spinner').siblings().remove().end().children().removeClass('ui-spinner-listitem').remove('.ui-spinner-data').end().parent().removeClass('ui-spinner ui-spinner-disabled').before(this.element.clone()).remove().end();},enable:function(){this.element.removeAttr('disabled').siblings().removeAttr('disabled').parent().removeClass('ui-spinner-disabled');this.disabled=false;},disable:function(){this.element.attr('disabled',true).siblings().attr('disabled',true).parent().addClass('ui-spinner-disabled');this.disabled=true;}});$.extend($.ui.spinner,{defaults:{decimals:0,stepping:1,start:0,incremental:true,currency:false,format:'%',items:[]},format:{currency:function(num,sym){num=isNaN(num)?0:num;return(num!==Math.abs(num)?'-':'')+sym+this.number(Math.abs(num),2);},number:function(num,dec){var regex=/(\d+)(\d{3})/;for(num=isNaN(num)?0:parseFloat(num,10).toFixed(dec);regex.test(num);num=num.replace(regex,'$1,$2'));return num;}}});})(jQuery);
/*
tipsy
*/
(function($){function maybeCall(thing,ctx){return(typeof thing=='function')?(thing.call(ctx)):thing;};function Tipsy(element,options){this.$element=$(element);this.options=options;this.enabled=true;this.fixTitle();};Tipsy.prototype={show:function(){var title=this.getTitle();if(title&&this.enabled){var $tip=this.tip();$tip.find('.tipsy-inner')[this.options.html?'html':'text'](title);$tip[0].className='tipsy';$tip.remove().css({top:0,left:0,visibility:'hidden',display:'block'}).prependTo(document.body);var pos=$.extend({},this.$element.offset(),{width:this.$element[0].offsetWidth,height:this.$element[0].offsetHeight});var actualWidth=$tip[0].offsetWidth,actualHeight=$tip[0].offsetHeight,gravity=maybeCall(this.options.gravity,this.$element[0]);var tp;switch(gravity.charAt(0)){case'n':tp={top:pos.top+pos.height+this.options.offset,left:pos.left+pos.width/2-actualWidth/2};break;case's':tp={top:pos.top-actualHeight-this.options.offset,left:pos.left+pos.width/2-actualWidth/2};break;case'e':tp={top:pos.top+pos.height/2-actualHeight/2,left:pos.left-actualWidth-this.options.offset};break;case'w':tp={top:pos.top+pos.height/2-actualHeight/2,left:pos.left+pos.width+this.options.offset};break;}
if(gravity.length==2){if(gravity.charAt(1)=='w'){tp.left=pos.left+pos.width/2-15;}else{tp.left=pos.left+pos.width/2-actualWidth+15;}}
$tip.css(tp).addClass('tipsy-'+gravity);$tip.find('.tipsy-arrow')[0].className='tipsy-arrow tipsy-arrow-'+gravity.charAt(0);if(this.options.className){$tip.addClass(maybeCall(this.options.className,this.$element[0]));}
if(this.options.fade){$tip.stop().css({opacity:0,display:'block',visibility:'visible'}).animate({opacity:this.options.opacity});}else{$tip.css({visibility:'visible',opacity:this.options.opacity});}}},hide:function(){if(this.options.fade){this.tip().stop().fadeOut(function(){$(this).remove();});}else{this.tip().remove();}},fixTitle:function(){var $e=this.$element;if($e.attr('title')||typeof($e.attr('original-title'))!='string'){$e.attr('original-title',$e.attr('title')||'').removeAttr('title');}},getTitle:function(){var title,$e=this.$element,o=this.options;this.fixTitle();var title,o=this.options;if(typeof o.title=='string'){title=$e.attr(o.title=='title'?'original-title':o.title);}else if(typeof o.title=='function'){title=o.title.call($e[0]);}
title=(''+title).replace(/(^\s*|\s*$)/,"");return title||o.fallback;},tip:function(){if(!this.$tip){this.$tip=$('<div class="tipsy"></div>').html('<div class="tipsy-arrow"></div><div class="tipsy-inner"></div>');}
return this.$tip;},validate:function(){if(!this.$element[0].parentNode){this.hide();this.$element=null;this.options=null;}},enable:function(){this.enabled=true;},disable:function(){this.enabled=false;},toggleEnabled:function(){this.enabled=!this.enabled;}};$.fn.tipsy=function(options){if(options===true){return this.data('tipsy');}else if(typeof options=='string'){var tipsy=this.data('tipsy');if(tipsy)tipsy[options]();return this;}
options=$.extend({},$.fn.tipsy.defaults,options);function get(ele){var tipsy=$.data(ele,'tipsy');if(!tipsy){tipsy=new Tipsy(ele,$.fn.tipsy.elementOptions(ele,options));$.data(ele,'tipsy',tipsy);}
return tipsy;}
function enter(){var tipsy=get(this);tipsy.hoverState='in';if(options.delayIn==0){tipsy.show();}else{tipsy.fixTitle();setTimeout(function(){if(tipsy.hoverState=='in')tipsy.show();},options.delayIn);}};function leave(){var tipsy=get(this);tipsy.hoverState='out';if(options.delayOut==0){tipsy.hide();}else{setTimeout(function(){if(tipsy.hoverState=='out')tipsy.hide();},options.delayOut);}};if(!options.live)this.each(function(){get(this);});if(options.trigger!='manual'){var binder=options.live?'live':'bind',eventIn=options.trigger=='hover'?'mouseenter':'focus',eventOut=options.trigger=='hover'?'mouseleave':'blur';this[binder](eventIn,enter)[binder](eventOut,leave);}
return this;};$.fn.tipsy.defaults={className:null,delayIn:0,delayOut:0,fade:false,fallback:'',gravity:'n',html:false,live:false,offset:0,opacity:1,title:'title',trigger:'hover'};$.fn.tipsy.elementOptions=function(ele,options){return $.metadata?$.extend({},options,$(ele).metadata()):options;};$.fn.tipsy.autoNS=function(){return $(this).offset().top>($(document).scrollTop()+$(window).height()/2)?'s':'n';};$.fn.tipsy.autoWE=function(){return $(this).offset().left>($(document).scrollLeft()+$(window).width()/2)?'e':'w';};$.fn.tipsy.autoBounds=function(margin,prefer){return function(){var dir={ns:prefer[0],ew:(prefer.length>1?prefer[1]:false)},boundTop=$(document).scrollTop()+margin,boundLeft=$(document).scrollLeft()+margin,$this=$(this);if($this.offset().top<boundTop)dir.ns='n';if($this.offset().left<boundLeft)dir.ew='w';if($(window).width()+$(document).scrollLeft()-$this.offset().left<margin)dir.ew='e';if($(window).height()+$(document).scrollTop()-$this.offset().top<margin)dir.ns='s';return dir.ns+(dir.ew?dir.ew:'');}};$.fn.tipsy.autoHide=function(){return $(this).tip().stop().fadeOut(function(){$(this).remove();});};})(jQuery);
/*
webcam
*/
window.webcam={version:'1.0.9',ie:!!navigator.userAgent.match(/MSIE/),protocol:location.protocol.match(/https/i)?'https':'http',callback:null,swf_url:'components/webcam/webcam.swf',shutter_url:'components/webcam/shutter.mp3',api_url:'avartarUpload.php',loaded:false,quality:90,shutter_sound:true,stealth:false,hooks:{onLoad:null,onComplete:null,onError:null},set_hook:function(name,callback){if(typeof(this.hooks[name])=='undefined')
return alert("Hook type not supported: "+name);this.hooks[name]=callback;},fire_hook:function(name,value){if(this.hooks[name]){if(typeof(this.hooks[name])=='function'){this.hooks[name](value);}
else if(typeof(this.hooks[name])=='array'){this.hooks[name][0][this.hooks[name][1]](value);}
else if(window[this.hooks[name]]){window[this.hooks[name]](value);}
return true;}
return false;},set_api_url:function(url){this.api_url=url;},set_swf_url:function(url){this.swf_url=url;},get_html:function(width,height,server_width,server_height){if(!server_width)server_width=width;if(!server_height)server_height=height;var html='';var flashvars='shutter_enabled='+(this.shutter_sound?1:0)+'&shutter_url='+escape(this.shutter_url)+'&width='+width+'&height='+height+'&server_width='+server_width+'&server_height='+server_height;if(this.ie){html+='<object classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000" codebase="'+this.protocol+'://download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=9,0,0,0" width="'+width+'" height="'+height+'" id="webcam_movie" align="middle"><param name="allowScriptAccess" value="always" /><param name="allowFullScreen" value="false" /><param name="movie" value="'+this.swf_url+'" /><param name="loop" value="false" /><param name="wmode" value="opaque" /><param name="menu" value="false" /><param name="quality" value="high" /><param name="bgcolor" value="#ffffff" /><param name="flashvars" value="'+flashvars+'"/></object>';}
else{html+='<embed id="webcam_movie" src="'+this.swf_url+'" loop="false" menu="false" quality="high" bgcolor="#ffffff" width="'+width+'" height="'+height+'" name="webcam_movie" align="middle" allowScriptAccess="always" allowFullScreen="false" wmode="opaque" type="application/x-shockwave-flash" pluginspage="http://www.macromedia.com/go/getflashplayer" flashvars="'+flashvars+'" />';}
this.loaded=false;return html;},get_movie:function(){if(!this.loaded)return alert("ERROR: Movie is not loaded yet");var movie=document.getElementById('webcam_movie');if(!movie)alert("ERROR: Cannot locate movie 'webcam_movie' in DOM");return movie;},set_stealth:function(stealth){this.stealth=stealth;},snap:function(url,callback,stealth){if(callback)this.set_hook('onComplete',callback);if(url)this.set_api_url(url);if(typeof(stealth)!='undefined')this.set_stealth(stealth);this.get_movie()._snap(this.api_url,this.quality,this.shutter_sound?1:0,this.stealth?1:0);},freeze:function(){this.get_movie()._snap('',this.quality,this.shutter_sound?1:0,0);},upload:function(url,callback){if(callback)this.set_hook('onComplete',callback);if(url)this.set_api_url(url);this.get_movie()._upload(this.api_url);},reset:function(){this.get_movie()._reset();},configure:function(panel){if(!panel)panel="camera";this.get_movie()._configure(panel);},set_quality:function(new_quality){this.quality=new_quality;},set_shutter_sound:function(enabled,url){this.shutter_sound=enabled;this.shutter_url=url?url:'shutter.mp3';},flash_notify:function(type,msg){switch(type){case'flashLoadComplete':this.loaded=true;this.fire_hook('onLoad');break;case'error':if(!this.fire_hook('onError',msg)){alert("JPEGCam Flash Error: "+msg);}
break;case'success':this.fire_hook('onComplete',msg.toString());break;default:alert("jpegcam flash_notify: "+type+": "+msg);break;}}};

/*!jQuery 2d Transform*/
(function($,window,document,undefined){var RAD_DEG=180/Math.PI;var RAD_GRAD=200/Math.PI;var DEG_RAD=Math.PI/180;var DEG_GRAD=2/1.8;var GRAD_DEG=0.9;var GRAD_RAD=Math.PI/200;$.extend({angle:{runit:/(deg|g?rad)/,radianToDegree:function(rad){return rad*RAD_DEG;},radianToGrad:function(rad){return rad*RAD_GRAD;},degreeToRadian:function(deg){return deg*DEG_RAD;},degreeToGrad:function(deg){return deg*DEG_GRAD;},gradToDegree:function(grad){return grad*GRAD_DEG;},gradToRadian:function(grad){return grad*GRAD_RAD;}}});})(jQuery,this,this.document);(function($,window,document,undefined){var rmatrix=/progid:DXImageTransform\.Microsoft\.Matrix\(.*?\)/;$.extend({transform:function(elem){elem.transform=this;this.$elem=$(elem);this.transformProperty=this.getTransformProperty();this.applyingMatrix=false;this.matrix=null;this.height=null;this.width=null;this.outerHeight=null;this.outerWidth=null;this.boxSizingValue=null;this.boxSizingProperty=null;this.attr=null;}});$.extend($.transform,{funcs:['matrix','origin','reflect','reflectX','reflectXY','reflectYX','reflectY','rotate','scale','scaleX','scaleY','skew','skewX','skewY','translate','translateX','translateY'],rfunc:{angle:/^rotate|skew[X|Y]?$/,length:/^origin|translate[X|Y]?$/,scale:/^scale[X|Y]?$/,reflect:/^reflect(XY|X|Y|YX)?$/}});$.fn.transform=function(funcs,options){return this.each(function(){var t=this.transform||new $.transform(this);if(funcs){t.exec(funcs,options);}});};$.transform.prototype={exec:function(funcs,options){var property=this.transformProperty;options=$.extend(true,{forceMatrix:false,preserve:false},options);this.attr=null;if(options.preserve){funcs=$.extend(true,this.getAttrs(true,true),funcs);}else{funcs=$.extend(true,{},funcs);}
this.setAttrs(funcs);if(property&&!options.forceMatrix){return this.execFuncs(funcs);}else if($.browser.msie||(property&&options.forceMatrix)){return this.execMatrix(funcs);}
return false;},execFuncs:function(funcs){var values=[];var property=this.transformProperty;for(var func in funcs){if(func=='origin'){this[func].apply(this,$.isArray(funcs[func])?funcs[func]:[funcs[func]]);}else if($.inArray(func,$.transform.funcs)!=-1){values.push(this.createTransformFunc(func,funcs[func]));}}
this.$elem.css(property,values.join(' '));return true;},execMatrix:function(funcs){var matrix,property=this.transformProperty,args;var strip=function(i,arg){args[i]=parseFloat(arg);};for(var func in funcs){if($.matrix[func]||func=='matrix'){args=$.isArray(funcs[func])?funcs[func]:[funcs[func]];$.each(args,strip);var m;if(func=='matrix'){m=new $.matrix.M2x2(args[0],args[1],args[2],args[3]);if(args[4]){this.setAttr('translateX',args[4]);}
if(args[5]){this.setAttr('translateY',args[5]);}}else{m=$.matrix[func].apply(this,args);}
if(!matrix){matrix=m;}else{matrix=matrix.x(m);}}else if(func=='origin'){args=$.isArray(funcs[func])?funcs[func]:[funcs[func]];this[func].apply(this,args);}}
var translate=this.getAttr('translate')||0,translateX=this.getAttr('translateX')||0,translateY=this.getAttr('translateY')||0;if(!$.isArray(translate)){translate=[translate,0];}
if(!matrix){matrix=new $.matrix.M2x2(1,0,0,1);}
var a=parseFloat(parseFloat(matrix.e(1,1)).toFixed(8)),b=parseFloat(parseFloat(matrix.e(2,1)).toFixed(8)),c=parseFloat(parseFloat(matrix.e(1,2)).toFixed(8)),d=parseFloat(parseFloat(matrix.e(2,2)).toFixed(8)),tx=0,ty=0;if(translate[0]||translate[1]||translateX||translateY){var tvector=matrix.x(new $.matrix.V2(parseFloat(translate[0])+parseFloat(translateX),parseFloat(translate[1])+parseFloat(translateY)));tx=parseFloat(parseFloat(tvector.e(1)).toFixed(8));ty=parseFloat(parseFloat(tvector.e(2)).toFixed(8));}
if(property&&property.substr(0,4)=='-moz'){this.$elem.css(property,'matrix('+a+', '+b+', '+c+', '+d+', '+tx+'px, '+ty+'px)');}else if(property){this.$elem.css(property,'matrix('+a+', '+b+', '+c+', '+d+', '+tx+', '+ty+')');}else if(jQuery.browser.msie){var style=this.$elem[0].style;var matrixFilter='progid:DXImageTransform.Microsoft.Matrix(M11='+a+', M12='+c+', M21='+b+', M22='+d+', sizingMethod=\'auto expand\')';var filter=style.filter||jQuery.curCSS(this.$elem[0],"filter")||"";style.filter=rmatrix.test(filter)?filter.replace(rmatrix,matrixFilter):filter?filter+' '+matrixFilter:matrixFilter;this.applyingMatrix=true;this.matrix=matrix;this.fixPosition(matrix,tx,ty);this.applyingMatrix=false;this.matrix=null;}
return true;},origin:function(x,y){var property=this.transformProperty,height=this.safeOuterHeight(),width=this.safeOuterWidth();switch(x){case'left':x='0';break;case'right':x=width;break;case'center':x=width*0.5;break;}
switch(y){case'top':y='0';break;case'bottom':y=height;break;case'center':case undefined:y=height*0.5;break;}
x=/%/.test(x)?width*parseFloat(x)/100:parseFloat(x);if(typeof(y)!=='undefined'){y=/%/.test(y)?height*parseFloat(y)/100:parseFloat(y);}
if(property){if(!y&&y!==0){this.$elem.css(property+'-origin',x+'px');}else{this.$elem.css(property+'-origin',x+'px '+y+'px');}}
if(!y&&y!==0){this.setAttr('origin',x);}else{this.setAttr('origin',[x,y]);}
return true;},getTransformProperty:function(){if(this.transformProperty){return this.transformProperty;}
var elem=document.body;var property={transform:'transform',MozTransform:'-moz-transform',WebkitTransform:'-webkit-transform',OTransform:'-o-transform'};for(var p in property){if(typeof elem.style[p]!='undefined'){this.transformProperty=property[p];return property[p];}}
return null;},createTransformFunc:function(func,value){if($.transform.rfunc.reflect.test(func)){var matrix=value?$.matrix[func]():$.matrix.empty(),a=matrix.e(1,1),b=matrix.e(2,1),c=matrix.e(1,2),d=matrix.e(2,2);return'matrix('+a+', '+b+', '+c+', '+d+', 0, 0)';}
value=_correctUnits(func,value);if(!$.isArray(value)){return func+'('+value+')';}else if(func=='matrix'){return'matrix('+value[0]+', '+value[1]+', '+value[2]+', '+value[3]+', '+(value[4]||0)+', '+(value[5]||0)+')';}else{return func+'('+value[0]+', '+value[1]+')';}},fixPosition:function(matrix,tx,ty,height,width){var calc=new $.matrix.calc(matrix,this.safeOuterHeight(),this.safeOuterWidth()),origin=this.getAttr('origin');var offset=calc.originOffset({x:parseFloat(origin[0]),y:parseFloat(origin[1])});var sides=calc.sides();var cssPosition=this.$elem.css('position');if(cssPosition=='static'){cssPosition='relative';}
var pos={top:0,left:0};var css={'position':cssPosition,'top':(offset.top+ty+sides.top+pos.top)+'px','left':(offset.left+tx+sides.left+pos.left)+'px','zoom':1};this.$elem.css(css);}};var rfxnum=/^([\+\-]=)?([\d+.\-]+)(.*)$/;function _correctUnits(func,value){var result=!$.isArray(value)?[value]:value,rangle=$.transform.rfunc.angle,rlength=$.transform.rfunc.length;for(var i=0,len=result.length;i<len;i++){var parts=rfxnum.exec(result[i]),unit='';if(rangle.test(func)){unit='deg';if(parts[3]&&!$.angle.runit.test(parts[3])){parts[3]=null;}}else if(rlength.test(func)){unit='px';}
if(!parts){result[i]=0+unit;}else if(!parts[3]){result[i]+=unit;}}
return len==1?result[0]:result;}})(jQuery,this,this.document);(function($,window,document,undefined){$.extend($.transform.prototype,{safeOuterHeight:function(){return this.safeOuterLength('height');},safeOuterWidth:function(){return this.safeOuterLength('width');},safeOuterLength:function(dim){var funcName='outer'+(dim=='width'?'Width':'Height');if($.browser.msie){dim=dim=='width'?'width':'height';if(this.applyingMatrix&&!this[funcName]&&this.matrix){var calc=new $.matrix.calc(this.matrix,1,1),ratio=calc.size(),length=this.$elem[funcName]()/ratio[dim];this[funcName]=length;return length;}else if(this.applyingMatrix&&this[funcName]){return this[funcName];}
var side={height:['top','bottom'],width:['left','right']};var elem=this.$elem[0],outerLen=parseFloat($.curCSS(elem,dim,true)),boxSizingProp=this.boxSizingProperty,boxSizingValue=this.boxSizingValue;if(!this.boxSizingProperty){boxSizingProp=this.boxSizingProperty=_findBoxSizingProperty()||'box-sizing';boxSizingValue=this.boxSizingValue=this.$elem.css(boxSizingProp)||'content-box';}

if(this[funcName]&&this[dim]==outerLen){return this[funcName];}else{this[dim]=outerLen;}
if(boxSizingProp&&(boxSizingValue=='padding-box'||boxSizingValue=='content-box')){outerLen+=parseFloat($.curCSS(elem,'padding-'+side[dim][0],true))||0+
parseFloat($.curCSS(elem,'padding-'+side[dim][1],true))||0;}
if(boxSizingProp&&boxSizingValue=='content-box'){outerLen+=parseFloat($.curCSS(elem,'border-'+side[dim][0]+'-width',true))||0+
parseFloat($.curCSS(elem,'border-'+side[dim][1]+'-width',true))||0;}
this[funcName]=outerLen;return outerLen;}
return this.$elem[funcName]();}});var _boxSizingProperty=null;function _findBoxSizingProperty(){if(_boxSizingProperty){return _boxSizingProperty;}
var property={boxSizing:'box-sizing',MozBoxSizing:'-moz-box-sizing',WebkitBoxSizing:'-webkit-box-sizing',OBoxSizing:'-o-box-sizing'},elem=document.body;for(var p in property){if(typeof elem.style[p]!='undefined'){_boxSizingProperty=property[p];return _boxSizingProperty;}}
return null;}})(jQuery,this,this.document);(function($,window,document,undefined){var rfuncvalue=/(origin|matrix|reflect(X|XY|Y|YX)?|rotate|scale[XY]?|skew[XY]?|translate[XY]?)\((.*?)\)/g,rfuncname=/^origin|matrix|reflect(XY|[XY])?|rotate|scale[XY]?|skew[XY]?|translate[XY]?$/,attr='data-transform',rspace=/\s/,rcspace=/,\s/;$.extend($.transform.prototype,{setAttrs:function(funcs){var string='',value;for(var func in funcs){if(rfuncname.test(func)){value=funcs[func];if($.isArray(value)){value=value.join(', ');}
string+=' '+func+'('+value+')';}}
this.attr=$.trim(string);this.$elem.attr(attr,this.attr);},setAttr:function(func,value){if(!rfuncname.test(func)){return;}
if($.isArray(value)){value=value.join(', ');}
value=$.trim(value);var transform=this.attr||this.$elem.attr(attr);if(!transform){this.attr=value;this.$elem.attr(attr,this.attr);}else if(transform.indexOf(func)>-1){this.attr=transform+' '+value;this.$elem.attr(attr,this.attr);}
var values=[],result,parts;rfuncvalue.exec('');while((result=rfuncvalue.exec(transform))!==null){values.push(result[0]);}
for(var i=0,l=values.length;i<l;i++){rfuncvalue.exec('');parts=rfuncvalue.exec(values[i]);if(func==parts[1]){values[i]=value;break;}}
this.attr=values.join(' ');this.$elem.attr(attr,this.attr);},getAttrs:function(){var transform=this.attr||this.$elem.attr(attr);if(!transform){return{};}
var values=[],attrs={},result,parts,value;rfuncvalue.exec('');while((result=rfuncvalue.exec(transform))!==null){values.push(result[0]);}
for(var i=0,l=values.length;i<l;i++){rfuncvalue.exec('');parts=rfuncvalue.exec(values[i]);if(parts&&rfuncname.test(parts[1])){value=parts[3].split(rcspace);attrs[parts[1]]=value.length==1?value[0]:value;}}
return attrs;},getAttr:function(func){if(!rfuncname.test(func)){return null;}
var transform=this.attr||this.$elem.attr(attr);var rscalefunc=$.transform.rfunc.scale;if(func!='origin'&&func!='matrix'&&(!transform||transform.indexOf(func)===-1)){return rscalefunc.test(func)?1:null;}
var values=[],result,parts,value=null;rfuncvalue.exec('');while((result=rfuncvalue.exec(transform))!==null){values.push(result[0]);}
for(var i=0,l=values.length;i<l;i++){rfuncvalue.exec('');parts=rfuncvalue.exec(values[i]);if(func==parts[1]){value=parts[3].split(rcspace);return value.length==1?value[0]:value;}}
if(func=='origin'){var rperc=/%/;value=this.transformProperty?this.$elem.css(this.transformProperty+'-origin'):[this.safeOuterWidth()*0.5,this.safeOuterHeight()*0.5];value=$.isArray(value)?value:value.split(rspace);if(rperc.test(value[0])){if(rperc.test(value[0])){value[0]=this.safeOuterWidth()*(parseFloat(value[0])/100);}
if(rperc.test(value[1])){value[1]=this.safeOuterHeight()*(parseFloat(value[1])/100);}}}else if(func=='matrix'){value=[1,0,0,1,0,0];}else if(rscalefunc.test(func)){value=1;}
return $.isArray(value)&&value.length==1?value[0]:value;}});})(jQuery,this,this.document);(function($,window,document,undefined){$.extend({matrix:{}});$.extend($.matrix,{calc:function(matrix,outerHeight,outerWidth){this.matrix=matrix;this.outerHeight=outerHeight;this.outerWidth=outerWidth;},V2:function(x,y){this.elements=[x,y];},M2x2:function(m11,m12,m21,m22){this.elements=[m11,m12,m21,m22];},empty:function(){return new $.matrix.M2x2(1,0,0,1);},reflect:function(){return new $.matrix.M2x2(-1,0,0,-1);},reflectX:function(){return new $.matrix.M2x2(1,0,0,-1);},reflectXY:function(){return new $.matrix.M2x2(0,1,1,0);},reflectYX:function(){return new $.matrix.M2x2(0,-1,-1,0);},reflectY:function(){return new $.matrix.M2x2(-1,0,0,1);},rotate:function(deg){var rad=$.angle.degreeToRadian(deg),costheta=Math.cos(rad),sintheta=Math.sin(rad);var a=costheta,b=sintheta,c=-sintheta,d=costheta;return new $.matrix.M2x2(a,c,b,d);},scale:function(sx,sy){sx=sx||sx===0?sx:1;sy=sy||sy===0?sy:sx;return new $.matrix.M2x2(sx,0,0,sy);},scaleX:function(sx){return $.matrix.scale(sx,1);},scaleY:function(sy){return $.matrix.scale(1,sy);},skew:function(degX,degY){degX=degX||0;degY=degY||0;var radX=$.angle.degreeToRadian(degX),radY=$.angle.degreeToRadian(degY),x=Math.tan(radX),y=Math.tan(radY);return new $.matrix.M2x2(1,x,y,1);},skewX:function(degX){return $.matrix.skew(degX);},skewY:function(degY){return $.matrix.skew(0,degY);}});$.matrix.calc.prototype={coord:function(x,y){var matrix=this.matrix,vector=matrix.x(new $.matrix.V2(x,y));return{x:vector.e(1),y:vector.e(2)};},corners:function(){var y=this.outerHeight,x=this.outerWidth;return{tl:this.coord(0,0),bl:this.coord(0,y),tr:this.coord(x,0),br:this.coord(x,y)};},sides:function(){var corners=this.corners();var sides={top:0,bottom:0,left:0,right:0},x,y;for(var pos in corners){x=corners[pos].x;y=corners[pos].y;if(y<sides.top){sides.top=y;}
if(y>sides.bottom){sides.bottom=y;}
if(x<sides.left){sides.left=x;}
if(x>sides.right){sides.right=x;}}
return sides;},size:function(){var sides=this.sides();return{height:Math.abs(sides.bottom-sides.top),width:Math.abs(sides.right-sides.left)};},originOffset:function(toOrigin,fromOrigin){toOrigin=toOrigin?toOrigin:{x:this.outerWidth*0.5,y:this.outerHeight*0.5};fromOrigin=fromOrigin?fromOrigin:{x:0,y:0};var toCenter=this.coord(toOrigin.x,toOrigin.y);var fromCenter=this.coord(fromOrigin.x,fromOrigin.y);return{top:(fromCenter.y-fromOrigin.y)-(toCenter.y-toOrigin.y),left:(fromCenter.x-fromOrigin.x)-(toCenter.x-toOrigin.x)};}};$.matrix.M2x2.prototype={x:function(matrix){var a=this.elements,b=matrix.elements;if(b.length==2){return new $.matrix.V2(a[0]*b[0]+a[1]*b[1],a[2]*b[0]+a[3]*b[1]);}else if(b.length==4){return new $.matrix.M2x2(a[0]*b[0]+a[1]*b[2],a[0]*b[1]+a[1]*b[3],a[2]*b[0]+a[3]*b[2],a[2]*b[1]+a[3]*b[3]);}
return false;},e:function(row,col){var i=0;if(row==1&&col==2){i=1;}else if(row==2&&col==1){i=2;}else if(row==2&&col==2){i=3;}
return this.elements[i];}};$.matrix.V2.prototype={e:function(i){return this.elements[i-1];}};})(jQuery,this,this.document);(function($,window,document,undefined){var rfxnum=/^([+\-]=)?([\d+.\-]+)(.*)$/;var rfxmultinum=/^(.*?)\s+([+\-]=)?([\d+.\-]+)(.*)$/;var _animate=$.fn.animate;$.fn.animate=function(prop,speed,easing,callback){if(prop&&!jQuery.isEmptyObject(prop)){var $elem=this;jQuery.each(prop,function(name,val){if($.inArray(name,$.transform.funcs)!=-1){if($.transform.rfunc.reflect.test(name)){var m=val?$.matrix[name]():$.matrix.empty(),e=m.elements;val=[e[0],e[1],e[2],e[3]];}
var parts=rfxnum.exec(val);if((parts&&parts[3])||$.isArray(val)){var end,unit,values=[];if($.isArray(val)){$.each(val,function(i){parts=rfxnum.exec(this);end=parseFloat(parts[2]);unit=parts[3]||"px";values.push({end:(parts[1]?parts[1]:'')+end,unit:unit});});}else{end=parseFloat(parts[2]);unit=parts[3]||"px";values.push({end:(parts[1]?parts[1]:'')+end,unit:unit});var i=0;while(parts=rfxmultinum.exec(unit)){values[i].unit=parts[1];values.push({end:(parts[2]?parts[2]:'')+parseFloat(parts[3]),unit:parts[4]});unit=parts[4];i++;}}
$elem.data('data-animate-'+name,values);prop[name]=values[0].end;}}});}
return _animate.apply(this,arguments);};var _cur=$.fx.prototype.cur;$.fx.prototype.cur=function(force){if($.inArray(this.prop,$.transform.funcs)!=-1){this.transform=this.transform||this.elem.transform||new $.transform(this.elem);var r=$.transform.rfunc;var value=this.transform.getAttr(this.prop),parts=rfxnum.exec($.isArray(value)?value[0]:value);if(value===null||parts===null){value=r.scale.test(this.prop)||r.reflect.test(this.prop)?1:0;parts=[null,null,value];}
return parseFloat(parts[2]);}
return _cur.apply(this,arguments);};$.fx.multivalueInit=function(fx){var $elem=$(fx.elem),values=fx.transform.getAttr(fx.prop),initValues=$elem.data('data-animate-'+fx.prop);if(initValues){$elem.removeData('data-animate-'+fx.prop);}
if($.transform.rfunc.reflect.test(fx.prop)){values=fx.transform.getAttr('matrix');}
fx.values=[];if($.isArray(values)&&!$.isArray(initValues)){initValues=[{end:parseFloat(fx.end),unit:fx.unit},{end:$.transform.rfunc.scale.test(fx.prop)?1:0,unit:fx.unit}];}
if(initValues){var start,rscalefunc=$.transform.rfunc.scale,parts;$.each(initValues,function(i,val){if($.isArray(values)){start=values[i];}else if(i>0){start=rscalefunc.test(fx.prop)?values:null;}else{start=values;}
if(!start&&start!==0){start=rscalefunc.test(fx.prop)?1:0;}
start=parseFloat(start);parts=rfxnum.exec(val.end);if(parts&&parts[1]){val.end=((parts[1]==="-="?-1:1)*parseFloat(parts[2]))+start;}
fx.values.push({start:parseFloat(start),end:parseFloat(val.end),unit:val.unit});});}else{fx.values.push({start:parseFloat(fx.start),end:parseFloat(fx.end),unit:fx.unit});}};$.fx.multivalueStep={_default:function(fx){$.each(fx.values,function(i,val){fx.values[i].now=val.start+((val.end-val.start)*fx.pos);});}};$.each($.transform.funcs,function(i,func){$.fx.step[func]=function(fx){if(!fx.transformInit){fx.transform=fx.transform||fx.elem.transform||new $.transform(fx.elem);$.fx.multivalueInit(fx);if(fx.values.length>1){fx.multiple=true;}
var r=$.transform.rfunc;if(r.angle.test(fx.prop)){fx.unit='deg';}else if(r.scale.test(fx.prop)){fx.unit='';}else if(r.reflect.test(fx.prop)){fx.unit='';}else if(fx.prop=='matrix'){fx.unit='';}
$.each(fx.values,function(i){fx.values[i].unit=fx.unit;});fx.transformInit=true;}
if(fx.multiple){($.fx.multivalueStep[fx.prop]||$.fx.multivalueStep._default)(fx);}else{fx.values[0].now=fx.now;}
var values=[];$.each(fx.values,function(i,value){if(value.unit=='deg'){while(value.now>=360){value.now-=360;}
while(value.now<=-360){value.now+=360;}}
values.push(parseFloat(parseFloat(value.now).toFixed(8))+value.unit);});var funcs={},prop=$.transform.rfunc.reflect.test(fx.prop)?'matrix':fx.prop;funcs[prop]=fx.multiple?values:values[0];fx.transform.exec(funcs,{preserve:true});};});})(jQuery,this,this.document);$(function(){$('#randomtransform').click(randomgo);var $elem=$('.transform, .transition');var $anim=$('.animate');var $text=$('.randomtransform');var step=1;function randomgo(){switch(step){case 1:$elem.transform({"reflectX":true});$anim.animate({"reflectX":true},{'complete':function(){}});$text.text('reflectX');break;case 2:$elem.transform({"reflectXY":true});$anim.animate({"reflectXY":true},{'complete':function(){}});$text.text('reflectXY');break;case 3:$elem.transform({"reflectY":true});$anim.animate({"reflectY":true},{'complete':function(){}});$text.text('reflectY');break;case 4:$elem.transform({"reflectXY":true});$anim.animate({"reflectXY":true},{'complete':function(){}});$text.text('reflectXY');break;case 5:$elem.transform({"rotate":'13deg'});$anim.animate({"rotate":13,"reflectXY":false},{'complete':function(){$anim.transform({"rotate":13});}});$text.text('rotate: 13');break;case 6:$elem.transform({"rotate":'-13deg'});$anim.animate({"rotate":-13},{'complete':function(){$anim.transform({"rotate":-13});}});$text.text('rotate: -13');break;case 7:$elem.transform({"rotate":195});$anim.animate({"rotate":195},{'complete':function(){$anim.transform({"rotate":195});}});$text.text('rotate: 195');break;case 8:$elem.transform({"rotate":-195});$anim.animate({"rotate":-195},{'complete':function(){$anim.transform({"rotate":-195});}});$text.text('rotate : -195');break;case 9:$elem.transform({"scale":.75});$anim.animate({"scale":.75,"rotate":0},{'complete':function(){$anim.transform({"scale":.75});}});$text.text('scale : .75');break;case 10:$elem.transform({"scale":[.75,.75]});$anim.animate({"scale":[.75,.75]},{'complete':function(){$anim.transform({"scale":[.75,.75]});}});$text.text('scale : [.75, .75]');break;case 11:$elem.transform({"scaleX":.75});$anim.animate({"scaleX":.75,"scale":[1,1]},{'complete':function(){$anim.transform({"scaleX":.75});}});$text.text('scaleX : .75');break;case 12:$elem.transform({"scaleY":.75});$anim.animate({"scaleY":.75,"scaleX":1},{'complete':function(){$anim.transform({"scaleY":.75});}});$text.text('scaleY : .75');break;case 13:$elem.transform({"skew":13});$anim.animate({"skew":13,"scaleY":1},{'complete':function(){$anim.transform({"skew":13});}});$text.text('skew : 13');break;case 14:$elem.transform({"skew":['13',13]});$anim.animate({"skew":['13',13]},{'complete':function(){$anim.transform({"skew":[13,13]});}});$text.text('skew : [13, 13]');break;case 15:$elem.transform({"skewX":'13'});$anim.animate({"skewX":'13',"skew":0},{'complete':function(){$anim.transform({"skewX":13});}});$text.text('skewX : 13');break;case 16:$elem.transform({"skewY":13});$anim.animate({"skewY":13,"skewX":0},{'complete':function(){$anim.transform({"skewY":13});}});$text.text('skewY : 13');break;case 17:$elem.transform({"translate":13});$anim.animate({"translate":13,"skewY":0},{'complete':function(){$anim.transform({"translate":13});}});$text.text('translate : 13');break;case 18:$elem.transform({"translate":[13,13]});$anim.animate({"translate":[13,13]},{'complete':function(){$anim.transform({"translate":[13,13]});}});$text.text('translate : [13, 13]');break;case 19:$elem.transform({"translateX":13});$anim.animate({"translateX":13,"translate":[0,0]},{'complete':function(){$anim.transform({"translateX":13});}});$text.text('translateX : 13');break;case 20:$elem.transform({"translateY":13});$anim.animate({"translateY":13,"translateX":0},{'complete':function(){$anim.transform({"translateY":13});}});$text.text('translateY : 13');break;default:step=-1;$elem.transform({});$anim.animate({"translateY":0},{'complete':function(){$anim.transform({});}});$text.text('complete');}
step++;}});
/*
sourcerer
*/
(function($){String.prototype.highlight=function(lang){var Code=this;if(this.length){for(var i=0;i<lang.length;i++){for(var OB in lang[i]){var NeExp=new RegExp(OB,"gi");var Pos=Code.search(NeExp);var Compos=Code.indexOf('//');if(Pos<=Compos||Compos===-1||Compos===0){Code=Code.replace(NeExp,"<span class='"+lang[i][OB]+"'>$&</span>");}}}}else{Code="&nbsp;";}
return Code;}
function GetLang(sets){var l=[];if(sets.indexOf('html')!==-1){l.push(HTMLArr);}
if(sets.indexOf('js')!==-1){l.push(JSArr);}
if(sets.indexOf('css')!==-1){l.push(CSSArr);}
if(sets.indexOf('php')!==-1){l.push(PHPArr);}
return(l.length)?l:false;}
String.prototype.escapeHTML=function(){return(this.replace(/>/g,'&gt;').replace(/</g,'&lt;').replace(/&lt;!--\?php/g,'&lt;?php').replace(/\?--&gt;/g,'?&gt;'));};var HTMLArr={"&lt;!--.*--&gt;":"SC_grey","&lt;\\/*(div|p|br|hr|link|em|meta|html|h2|h1|h3|ul|!DOCTYPE html|li|ol|body|select|span|head|title|canvas|video|audio|source|pre)\\s*(([A-Za-z]+)=(\"|')[a-zA-Z0-9\\.\\/\\(\\)\\?,&'_#\\s;:%=\\-~]*(\"|')\\s*)*\\s*\\/*&gt;(?!.*--&gt;)":"SC_blue","&lt;\\/*script\\s*(([A-Za-z]+)=\"[a-zA-Z0-9\\.\\/]*\"\\s*)*\\s*\\/*&gt;(?!.*--&gt;)":"SC_red","&lt;\\/*a\\s*(([A-Za-z]+)=\"[a-zA-Z0-9\\.\\/\\(\\)\\[\\]\\?\\s\\$=,'_#;:&~(&lt;)(&gt;)-]*\"\\s*)*\\s*\\/*&gt;(?!.*--&gt;)":"SC_green","&lt;img\\s+(([A-Za-z]+)=\"[a-zA-Z0-9\\.\\/\\(\\),\\s'_#;:]+\"\\s*)*\\s*\\/*&gt;(?!.*--&gt;)":"SC_red","&lt;\\/*(form|input|textarea|button|option|select)\\s*(([A-Za-z]+)=\"[a-zA-Z0-9\\(\\);,':\\s\\.]*\"\\s*)*\\s*\\/*&gt;(?!.*--&gt;)":"SC_gold","&lt;\\/*(td|tr|table|tbody)\\s*(([A-Za-z]+)=\"[a-zA-Z0-9\\.\\/\\(\\)\\s,'_%#;:~-]*\"\\s*)*\\s*\\/*&gt;(?!.*--&gt;)":"SC_teal","\"[a-zA-Z0-9\\s\\/\\.\\?\\[\\]\\$#;:_',&=%\\)\\(~-]*\"(?!(.*--&gt;)|(\s*[A-Za-z]))":"SC_navy"};var CSSArr={"((#|\\.)*[a-zA-Z0-9_:,\\s\\.\\*#]+\\s*\\{)|(\\})":"SC_pink","\\/\\*.*\\*\\/":"SC_grey","[a-zA-Z0-9-]+:(?![a-zA-Z0-9_:\\s\\.]+\\{)":"SC_blue","[a-zA-Z0-9,'_#\\(\\)\\/%@\\s\\.\"-]+;":"SC_green"};var JSArr={"\\/\\/.*":"SC_grey","((function|var|this|for|if|else|switch|while|try|catch)\\s*(\\{|\\())":"SC_blue","(\\.[a-zA-Z]+(?=\\())|(alert\\()|((String|Date|Array|Number)\\.)":"SC_teal","(((\"|')[a-zA-Z0-9\\s-\\/\\.\\?#!;:_',&=%\\)\\(~]*(\"|'))(?!(\\>)|(.*--&gt;)|(\s*[A-Za-z])))|(this\\.)|(var\\s)|(return\\s)|(true;)|(false;)|(return;)":"SC_navy","([\\(\\)\\{\\}\\*\\[\\]\\+-]{1})":"SC_blue","[0-9]+(?![A-Za-z]+)":"SC_red","(function|var|this|false|true|return|for|if|else|switch|while|try|catch|do|in)(\\s*[A-Za-z]*\\s*(\\(|\\{))*":"SC_bold"};var PHPArr={"(\\/\\/.*)|(\\/\\*.*\\*\\/)":"SC_grey","(((\"|')[a-zA-Z0-9\\s-\\/\\.\\?\\*#;:_',&=%\\)\\(~]*(\"|'))(?!\\>))":"SC_navy","(((&lt;\\?php)|(\\?&gt;))(?!.*\\*\\/))|([0-9](?![A_Za-z]*\"|'))":"SC_red","(([a-zA-Z0-9_]+\\()|(echo)|(\\$_[a-zA-Z0-9]+))(?!.*\\*\\/)":"SC_green","[\\(\\)\\{\\}(\\*\\+]{1}(?!.*\\*\\/)":"SC_blue","\\$[A-Za-z0-9]+":"SC_teal"};$.fn.extend({sourcerer:function(settings){var sel=this.selector;var def={"lang":false,"numbers":true,"title":false};var sets={};return this.each(function(){if(!$(this).children('.SRC_Wrap').length){settings=(typeof(settings)=='string')?{"lang":settings}:settings;$.extend(sets,def,settings);var Out=[];if(sets.lang){var Lines=$(this).html().escapeHTML().split('\n');Out.push("<div class='SRC_Wrap'>");if(sets.title){Out.push("<div class='SRC_Title'>"+sets.title+"</div>");}
Out.push("<div class='SRC_NumBox'></div><div class='SRC_CodeBox'>");for(var j=0;j<Lines.length;j++){Out.push("<div class='SRC_Line'><pre class='SRC_CodeContent'>"+Lines[j].highlight(GetLang(sets.lang))+"</pre></div>");}
Out.push("</div><div style='clear:both;'></div></div>");$(this).html(Out.join(''));if(sets.numbers){var numbox=$(this).find('.SRC_NumBox');Out=[];for(var j=0;j<Lines.length;j++){var h=$($('.SRC_Line')[j]).height();Out.push("<div class='SRC_Line' style='height:"+h+"px'><div class='SRC_NumContent'>"+(j+1)+"</div></div>");}
numbox.html(Out.join(''));}else{$(this).find('.SRC_CodeBox').width('100%');$(this).find('.SRC_CodeContent').css('border-left',0);}}
else{throw"::No language given or language was invalid for sourcerer call with selector '"+sel+"'";}}});}});})(jQuery);
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																											/* jRumble v1.3 - http://jackrugile.com/jrumble - MIT License */
(function(f){f.fn.jrumble=function(g){var a=f.extend({x:2,y:2,rotation:1,speed:15,opacity:false,opacityMin:0.5},g);return this.each(function(){var b=f(this),h=a.x*2,i=a.y*2,k=a.rotation*2,g=a.speed===0?1:a.speed,m=a.opacity,n=a.opacityMin,l,j,o=function(){var e=Math.floor(Math.random()*(h+1))-h/2,a=Math.floor(Math.random()*(i+1))-i/2,c=Math.floor(Math.random()*(k+1))-k/2,d=m?Math.random()+n:1,e=e===0&&h!==0?Math.random()<0.5?1:-1:e,a=a===0&&i!==0?Math.random()<0.5?1:-1:a;b.css("display")==="inline"&&(l=true,b.css("display","inline-block"));b.css({position:"relative",left:e+"px",top:a+"px","-ms-filter":"progid:DXImageTransform.Microsoft.Alpha(Opacity="+d*100+")",filter:"alpha(opacity="+d*100+")","-moz-opacity":d,"-khtml-opacity":d,opacity:d,"-webkit-transform":"rotate("+c+"deg)","-moz-transform":"rotate("+c+"deg)","-ms-transform":"rotate("+c+"deg)","-o-transform":"rotate("+c+"deg)",transform:"rotate("+c+"deg)"})},p={left:0,top:0,"-ms-filter":"progid:DXImageTransform.Microsoft.Alpha(Opacity=100)",filter:"alpha(opacity=100)","-moz-opacity":1,"-khtml-opacity":1,opacity:1,"-webkit-transform":"rotate(0deg)","-moz-transform":"rotate(0deg)","-ms-transform":"rotate(0deg)","-o-transform":"rotate(0deg)",transform:"rotate(0deg)"};b.bind({startRumble:function(a){a.stopPropagation();clearInterval(j);j=setInterval(o,g)},stopRumble:function(a){a.stopPropagation();clearInterval(j);l&&b.css("display","inline");b.css(p)}})})}})(jQuery);
/* taginput */
(function(a){var b=new Array;var c=new Array;a.fn.doAutosize=function(b){var c=a(this).data("minwidth"),d=a(this).data("maxwidth"),e="",f=a(this),g=a("#"+a(this).data("tester_id"));if(e===(e=f.val())){return}var h=e.replace(/&/g,"&").replace(/\s/g," ").replace(/</g,"<").replace(/>/g,">");g.html(h);var i=g.width(),j=i+b.comfortZone>=c?i+b.comfortZone:c,k=f.width(),l=j<k&&j>=c||j>c&&j<d;if(l){f.width(j)}};a.fn.resetAutosize=function(b){var c=a(this).data("minwidth")||b.minInputWidth||a(this).width(),d=a(this).data("maxwidth")||b.maxInputWidth||a(this).closest(".tagsinput").width()-b.inputPadding,e="",f=a(this),g=a("<tester/>").css({position:"absolute",top:-9999,left:-9999,width:"auto",fontSize:f.css("fontSize"),fontFamily:f.css("fontFamily"),fontWeight:f.css("fontWeight"),letterSpacing:f.css("letterSpacing"),whiteSpace:"nowrap"}),h=a(this).attr("id")+"_autosize_tester";if(!a("#"+h).length>0){g.attr("id",h);g.appendTo("body")}f.data("minwidth",c);f.data("maxwidth",d);f.data("tester_id",h);f.css("width",c)};a.fn.addTag=function(d,e){e=jQuery.extend({focus:false,callback:true},e);this.each(function(){var f=a(this).attr("id");var g=a(this).val().split(b[f]);if(g[0]==""){g=new Array}d=jQuery.trim(d);if(e.unique){var h=a(g).tagExist(d);if(h==true){a("#"+f+"_tag").addClass("not_valid")}}else{var h=false}if(d!=""&&h!=true){a("<span>").addClass("tag").append(a("<span>").text(d).append("Â Â "),a("<a>",{href:"#",title:"Removing tag",text:"x"}).click(function(){return a("#"+f).removeTag(escape(d))})).insertBefore("#"+f+"_addTag");g.push(d);a("#"+f+"_tag").val("");if(e.focus){a("#"+f+"_tag").focus()}else{a("#"+f+"_tag").blur()}a.fn.tagsInput.updateTagsField(this,g);if(e.callback&&c[f]&&c[f]["onAddTag"]){var i=c[f]["onAddTag"];i.call(this,d)}if(c[f]&&c[f]["onChange"]){var j=g.length;var i=c[f]["onChange"];i.call(this,a(this),g[j-1])}}});return false};a.fn.removeTag=function(d){d=unescape(d);this.each(function(){var e=a(this).attr("id");var f=a(this).val().split(b[e]);a("#"+e+"_tagsinput .tag").remove();str="";for(i=0;i<f.length;i++){if(f[i]!=d){str=str+b[e]+f[i]}}a.fn.tagsInput.importTags(this,str);if(c[e]&&c[e]["onRemoveTag"]){var g=c[e]["onRemoveTag"];g.call(this,d)}});return false};a.fn.tagExist=function(b){return jQuery.inArray(b,a(this))>=0};a.fn.importTags=function(b){id=a(this).attr("id");a("#"+id+"_tagsinput .tag").remove();a.fn.tagsInput.importTags(this,b)};a.fn.tagsInput=function(d){var e=jQuery.extend({interactive:true,defaultText:"add a tag",minChars:0,width:"300px",height:"100px",autocomplete:{selectFirst:false},hide:true,delimiter:",",unique:true,removeWithBackspace:true,placeholderColor:"#666666",autosize:true,comfortZone:20,inputPadding:6*2},d);this.each(function(){if(e.hide){a(this).hide()}var d=a(this).attr("id");if(!d||b[a(this).attr("id")]){d=a(this).attr("id","tags"+(new Date).getTime()).attr("id")}var f=jQuery.extend({pid:d,real_input:"#"+d,holder:"#"+d+"_tagsinput",input_wrapper:"#"+d+"_addTag",fake_input:"#"+d+"_tag"},e);b[d]=f.delimiter;if(e.onAddTag||e.onRemoveTag||e.onChange){c[d]=new Array;c[d]["onAddTag"]=e.onAddTag;c[d]["onRemoveTag"]=e.onRemoveTag;c[d]["onChange"]=e.onChange}var g='<div id="'+d+'_tagsinput" class="tagsinput"><div id="'+d+'_addTag">';if(e.interactive){g=g+'<input id="'+d+'_tag" value="" data-default="'+e.defaultText+'" />'}g=g+'</div><div class="tags_clear"></div></div>';a(g).insertAfter(this);a(f.holder).css("width",e.width);a(f.holder).css("height",e.height);if(a(f.real_input).val()!=""){a.fn.tagsInput.importTags(a(f.real_input),a(f.real_input).val())}if(e.interactive){a(f.fake_input).val(a(f.fake_input).attr("data-default"));a(f.fake_input).css("color",e.placeholderColor);a(f.fake_input).resetAutosize(e);a(f.holder).bind("click",f,function(b){a(b.data.fake_input).focus()});a(f.fake_input).bind("focus",f,function(b){if(a(b.data.fake_input).val()==a(b.data.fake_input).attr("data-default")){a(b.data.fake_input).val("")}a(b.data.fake_input).css("color","#000000")});if(e.autocomplete_url!=undefined){autocomplete_options={source:e.autocomplete_url};for(attrname in e.autocomplete){autocomplete_options[attrname]=e.autocomplete[attrname]}if(jQuery.Autocompleter!==undefined){a(f.fake_input).autocomplete(e.autocomplete_url,e.autocomplete);a(f.fake_input).bind("result",f,function(b,c,f){if(c){a("#"+d).addTag(c[0]+"",{focus:true,unique:e.unique})}})}else if(jQuery.ui.autocomplete!==undefined){a(f.fake_input).autocomplete(autocomplete_options);a(f.fake_input).bind("autocompleteselect",f,function(b,c){a(b.data.real_input).addTag(c.item.value,{focus:true,unique:e.unique});return false})}}else{a(f.fake_input).bind("blur",f,function(b){var c=a(this).attr("data-default");if(a(b.data.fake_input).val()!=""&&a(b.data.fake_input).val()!=c){if(b.data.minChars<=a(b.data.fake_input).val().length&&(!b.data.maxChars||b.data.maxChars>=a(b.data.fake_input).val().length))a(b.data.real_input).addTag(a(b.data.fake_input).val(),{focus:true,unique:e.unique})}else{a(b.data.fake_input).val(a(b.data.fake_input).attr("data-default"));a(b.data.fake_input).css("color",e.placeholderColor)}return false})}a(f.fake_input).bind("keypress",f,function(b){if(b.which==b.data.delimiter.charCodeAt(0)||b.which==13){b.preventDefault();if(b.data.minChars<=a(b.data.fake_input).val().length&&(!b.data.maxChars||b.data.maxChars>=a(b.data.fake_input).val().length))a(b.data.real_input).addTag(a(b.data.fake_input).val(),{focus:true,unique:e.unique});a(b.data.fake_input).resetAutosize(e);return false}else if(b.data.autosize){a(b.data.fake_input).doAutosize(e)}});f.removeWithBackspace&&a(f.fake_input).bind("keydown",function(b){if(b.keyCode==8&&a(this).val()==""){b.preventDefault();var c=a(this).closest(".tagsinput").find(".tag:last").text();var d=a(this).attr("id").replace(/_tag$/,"");c=c.replace(/[\s]+x$/,"");a("#"+d).removeTag(escape(c));a(this).trigger("focus")}});a(f.fake_input).blur();if(f.unique){a(f.fake_input).keydown(function(b){if(b.keyCode==8||String.fromCharCode(b.which).match(/\w+|[Ã¡Ã©Ã­Ã³ÃºÃÃ‰ÃÃ“ÃšÃ±Ã‘,/]+/)){a(this).removeClass("not_valid")}})}}});return this};a.fn.tagsInput.updateTagsField=function(c,d){var e=a(c).attr("id");a(c).val(d.join(b[e]))};a.fn.tagsInput.importTags=function(d,e){a(d).val("");var f=a(d).attr("id");var g=e.split(b[f]);for(i=0;i<g.length;i++){a(d).addTag(g[i],{focus:false,callback:false})}if(c[f]&&c[f]["onChange"]){var h=c[f]["onChange"];h.call(d,d,g[i])}}})(jQuery);
/* form clone*/
(function(a){jQuery.fn.sheepIt=function(N){function P(){var ax;if(typeof N.beforeClone==="function"){N.beforeClone(ao,C)}ax=C.cloneWithAttribut(true);if(typeof N.afterClone==="function"){N.afterClone(ao,ax)}ax.getSource=function(){return ao};return ax}function p(ax){ax.preventDefault();ac()}function d(ax){ax.preventDefault();if(K.value!==""){y(K.attr("value"))}}function r(ax){ax.preventDefault();if(typeof N.beforeRemoveCurrent==="function"){N.beforeRemoveCurrent(ao)}if(N.removeCurrentConfirmation){if(confirm(N.removeCurrentConfirmationMsg)){aj(a(this).data("removableClone"))}}else{aj(a(this).data("removableClone"))}if(typeof N.afterRemoveCurrent==="function"){N.afterRemoveCurrent(ao)}}function f(ax){ax.preventDefault();if(N.removeLastConfirmation){if(confirm(N.removeLastConfirmationMsg)){ae()}}else{ae()}}function af(ax){ax.preventDefault();if(N.removeAllConfirmation){if(confirm(N.removeAllConfirmationMsg)){aq()}}else{aq()}}function am(ay,aA){var az=ay.attr(aA+"template");if(az){return unescape(az)}var ax=ay.attr(aA);ay.attr(aA+"template",escape(ax));return ax}function L(ay,ax){ay.find(v).each(function(){var aC=a(this),aB=am(aC,"id"),aA=am(aC,"name"),aD=aC.attr("id"),az=aC.attr("name");newNameAttr=aA.replace(N.indexFormat,ax);aC.attr("name",newNameAttr);newIdAttr=aB.replace(N.indexFormat,ax);ay.find("label[for='"+aD+"']").each(function(){a(this).attr("for",newIdAttr)});aC.attr("id",newIdAttr)})}function aw(ay,ax){H(ay,ax+1)}function H(ay,ax){ay.find(N.labelSelector).html(ax);return true}function w(ax){return ax.find(N.labelSelector).html()}function T(){if(at()){if(B()==1){ab.hideIf();ad.showIf()}else{ab.showIf();ad.showIf()}var ax="";if(N.allowRemoveCurrent){ax=ao.find(N.removeCurrentSelector);if(b()){ax.show()}else{ax.hide()}}else{ax=ao.find(N.removeCurrentSelector);ax.hide()}}else{ad.hideIf();ab.hideIf()}if(!R()){o.hideIf();ag.hideIf()}else{o.showIf();ag.showIf()}if(!b()){ad.hideIf();ab.hideIf()}if(o.css("display")!="none"||ag.css("display")!="none"||ab.css("display")!="none"||ad.css("display")!="none"){i.show()}else{i.hide()}}function J(){if(at()){h.hide();if(N.continuousIndex){var ax=0,ay=Q();do{g(ay,ax);ax++;ay=av(ay)}while(ay!=false)}}else{h.show()}}function g(aB,ay){if(typeof ay=="undefined"){ay=l()}var ax=am(aB,"id");if(aB.attr("id")){aB.attr("id",ax+ay)}L(aB,ay);aw(aB,ay);if(aB.html().indexOf(N.indexFormat)!=-1){var az=new RegExp(N.indexFormat,"ig");aB.html(aB.html().replace(az,ay))}var aA=aB.find(N.removeCurrentSelector);(N.allowRemoveCurrent)?aA.show():aA.hide();return aB}function A(){J();T()}function ac(az,ay){if(typeof az=="undefined"){az=true}if(typeof ay=="undefined"){ay=false}if(typeof N.beforeAdd==="function"){N.beforeAdd(ao)}var aC=false;if(ay){if(typeof(ay)=="string"){aC=a("#"+ay)}else{if(typeof(ay)=="object"){aC=ay}else{return false}}aC.remove()}else{aC=P()}if(R()&&aC){aC=g(aC);var aA=aC.find(N.removeCurrentSelector).first();aA.click(r);aA.data("removableClone",aC);aC.data("formIndex",l());aC.data("previousSeparator",false);aC.data("nextSeparator",false);aC.data("previousForm",false);aC.data("nextForm",false);if(at()){var aF=ap();aF.data("nextForm",aC);aC.data("previousForm",aF);if(N.separator){var aB=an();aB.insertAfter(aF);aF.data("nextSeparator",aB);aC.data("previousSeparator",aB)}}(N.insertNewForms=="after")?aC.insertBefore(h):aC.insertAfter(h);if(N.nestedForms.length>0){var aD=0;var aG=[];for(aD in N.nestedForms){if(typeof(N.nestedForms[aD].id)!="undefined"&&typeof(N.nestedForms[aD].options)!="undefined"){N.nestedForms[aD].isNestedForm=true;N.nestedForms[aD].parentForm=ao;var ax=N.nestedForms[aD].id.replace(N.indexFormat,aC.data("formIndex"));var aE=a("#"+ax).sheepIt(N.nestedForms[aD].options);aG.push(aE)}}aC.data("nestedForms",aG)}u(aC);ai.push(aC);if(az||N.continuousIndex){A()}if(typeof N.afterAdd==="function"){N.afterAdd(ao,aC)}return true}else{return false}}function y(az,ay){if(typeof az!="undefined"){az=parseFloat(az);var ax=1;for(ax=1;ax<=az;ax++){ac(ay)}}}function ae(ax){if(typeof ax=="undefined"){ax=true}if(b()){x();if(ax){A()}return true}else{return false}}function aq(ay){if(typeof ay=="undefined"){ay=true}if(m()){var ax=[];for(ax in ai){if(ai[ax]){x(ai[ax])}}if(ay){A()}return true}else{return false}}function aj(ax,ay){if(typeof ay=="undefined"){ay=true}if(b()){x(ax);if(ay){A()}return true}else{return false}}function x(ax){if(typeof ax=="undefined"){ax=ap()}index=ax.data("formIndex");if(ax.data("previousSeparator")&&ax.data("nextSeparator")){ax.data("previousSeparator").remove();ax.data("previousForm").data("nextSeparator",ax.data("nextSeparator"))}else{if(ax.data("previousSeparator")&&!ax.data("nextSeparator")){ax.data("previousSeparator").remove();ax.data("previousForm").data("nextSeparator",false)}else{if(!ax.data("previousSeparator")&&ax.data("nextSeparator")){ax.data("nextSeparator").remove();ax.data("nextForm").data("previousSeparator",false)}}}if(ax.data("previousForm")){ax.data("previousForm").data("nextForm",ax.data("nextForm"))}if(ax.data("nextForm")){ax.data("nextForm").data("previousForm",ax.data("previousForm"))}ai[index]=false;ax.remove();return true}function E(){return z}function S(){if(z!==false){if(ai.length>1){var ax=0;var ay=parseFloat(z+1);for(ax=ay;ax<ai.length;ax++){if(ai[ax]){z=ax;return true}}return false}else{return false}}else{return false}}function j(){if(z!==false){if(ai.length>1){var ax=0;var ay=parseFloat(z-1);for(ax=ay;ax>=0;ax--){if(ai[ax]){z=ax;return true}}return false}else{return false}}else{return false}}function Y(){z=false;if(ai.length>0){var ax=0;for(ax in ai){if(ai[ax]){z=ax;return true}}return false}else{return false}}function I(){z=false;if(ai.length>0){if(ai[ai.length-1]){z=ai.length-1;return true}else{var ax=0;for(ax=(ai.length-1);ax>=0;ax--){if(ai[ax]){z=ax;return true}}return false}}else{return false}}function k(){if(ai.length>0){var ay=0;var ax=[];for(ax in ai){if(ai[ax]){ay++}}return ay}else{return 0}}function D(ax){if(typeof ax!="undefined"){z=e(ax);if(z!==false){return true}else{return false}}else{return false}}function e(ay){var ax=0;var aA=0;var az=false;for(ax in ai){if(ai[ax]){aA++;if(ay==aA){az=ax}}}return az}function q(az){var ay=0;var ax=0;for(ay=0;ay<=az;ay++){if(ai[ay]){ax++}}return ax}function l(){return ai.length}function B(){return k()}function Q(){if(Y()!==false){return al()}else{return false}}function ap(){if(I()!==false){return al()}else{return false}}function av(ax){if(ax){return ax.data("nextForm")}else{if(E()!==false){if(S()!==false){return al()}else{return false}}else{return false}}}function M(ax){if(ax){return ax.data("previousForm")}else{if(E()!==false){if(j()!==false){return al()}else{return false}}else{return false}}}function al(){if(E()!==false){return ai[E()]}else{return false}}function ak(ax){if(at()){if(typeof(ax)!="undefined"){D(ax);return al()}else{return ap()}}else{return false}}function c(){if(at()){Y();var ax=0;var ay=[];for(ax=0;ax<B();ax++){ay.push(al());S()}return ay}else{return false}}function at(){return(B()>0)?true:false}function R(){if(N.maxFormsCount==0){return true}else{return(B()<N.maxFormsCount)?true:false}}function b(){return(B()>N.minFormsCount)?true:false}function m(){return(N.minFormsCount==0)?true:false}function W(ax){if(a("#"+ax.attr("id")).length>0){return true}else{return false}}function ah(ay,ax){var az="";if(typeof(ay)=="number"){ay++;if((ay)>B()){ac()}az=ak(ay);V(az,ax)}else{if(typeof(ay)=="string"){az=a("#"+ay);V(az,ax)}}if(typeof N.afterFill==="function"){N.afterFill(ao,az,ax)}}function V(ay,az){var ax=0;a.each(az,function(aD,aF){var aH=ao.attr("id");var aB=ay.data("formIndex");if(aD.indexOf("#form#")!=-1||aD.indexOf("#index#")!=-1){aD=aD.replace("#form#",aH);aD=aD.replace("#index#",aB)}else{aD=aH+"_"+aB+"_"+aD}var aG=ay.find(':input[id="'+aD+'"]');if(aG.length==0){aG=ay.find(':input[name="'+aD+'"]');if(aG.length==0){aG=ay.find(':input[name="'+aD+'[]"]')}}if(aG.length>0){var aA=false;if(typeof(aF)=="object"){aA=true}var aE=false;if(aG.length>1){aE=true}if(aE){if(aA){var aC=[];aC.fields=[];aC.values=[];ax=0;for(ax in aF){aC.fields.push(aG.filter('[value="'+aF[ax]+'"]'));aC.values.push(aF[ax])}ax=0;for(ax in aC.fields){aa(aC.fields[ax],aC.values[ax])}}else{aa(aG.filter('[value="'+aF+'"]',aF))}}else{if(aA){ax=0;for(ax in aF){aa(aG,aF[ax])}}else{aa(aG,aF)}}}else{if(typeof(ay.data("nestedForms"))!="undefined"){if(ay.data("nestedForms").length>0){ax=0;for(ax in ay.data("nestedForms")){if(aD==ay.data("nestedForms")[ax].attr("id")&&typeof(aF)=="object"){ay.data("nestedForms")[ax].inject(aF)}}}}}})}function aa(az,ay){var ax=az.attr("type");if(ax=="text"||ax=="hidden"||ax=="password"){az.attr("value",ay);return true}else{if(ax=="textarea"){az.text(ay);return true}else{if(ax=="checkbox"||ax=="radio"){az.attr("checked","checked");return true}else{if(ax=="select-one"||ax=="select-multiple"){az.find("option").each(function(){if(a(this).text()==ay||a(this).attr("value")==ay){a(this).attr("selected","selected")}});return true}else{return false}}}}}function ar(){if(N.separator!=""){return true}else{return false}}function an(){if(ar()){return a(N.separator)}else{return false}}function U(ax){N=[];N=a.extend(G,ax);s(N)}function t(){return N}function Z(){ao.hide();o=a(N.addSelector);ag=a(N.addNSelector);K=a(N.addNInputSelector);au=a(N.addNButtonSelector);ad=a(N.removeLastSelector);O=a(N.removeCurrentSelector);ab=a(N.removeAllSelector);i=a(N.controlsSelector);if(o.length==0){N.allowAdd=false}if(ag.length==0){N.allowAddN=false}if(ad.length==0){N.allowRemoveLast=false}if(ab.length==0){N.allowRemoveAll=false}F(o,N.allowAdd,p);F(ag,N.allowAddN,d,au);F(ad,N.allowRemoveLast,f);F(ab,N.allowRemoveAll,af);o.init();ag.init();ad.init();ab.init();n=a(N.formTemplateSelector);h=a(N.noFormsTemplateSelector);C=n.cloneWithAttribut(true);n.remove();var ay=0;if(N.pregeneratedForms.length>0){ay=0;for(ay in N.pregeneratedForms){ac(false,N.pregeneratedForms[ay])}}if(N.iniFormsCount>B()){ay=0;var ax=N.iniFormsCount-B();for(ay=1;ay<=ax;ay++){ac(false)}}if(N.data){ao.inject(N.data)}A();ao.show()}function F(az,ax,ay,aA){if(typeof(aA)=="undefined"){aA=false}a.extend(az,{hideIf:function(aB,aC){if(ax){az.hide(aB,aC)}},showIf:function(aB,aC){if(ax){az.show(aB,aC)}},init:function(){if(ax){if(aA){aA.click(ay)}else{az.click(ay)}az.show()}else{az.hide()}}})}function X(ax){a.extend(ax,{getAddControl:function(){return o},getAddNControl:function(){return ag},getRemoveLastControl:function(){return ad},getRemoveAllControl:function(){return ab},getOptions:function(){return t()},getOption:function(ay){return N[ay]},setOption:function(ay,az){if(typeof(ay)!="undefined"&&typeof(az)!="undefined"){N[ay]=az;return N[ay]}else{return false}},getForms:function(){return c()},getAllForms:function(){return c()},getForm:function(ay){if(typeof(ay)!="undefined"){ay++}return ak(ay)},getLastForm:function(){return ak()},getFirstForm:function(){Y();return al()},addForm:function(){return ac()},addNForms:function(ay){return y(ay)},getFormsCount:function(){return B()},hasForms:function(){return at()},canAddForm:function(){return R()},canRemoveAllForms:function(){return m()},canRemoveForm:function(){return b()},removeAllForms:function(){return aq()},removeLastForm:function(){return ae()},removeFirstForm:function(){Y();return x(al())},removeForm:function(ay){if(typeof(ay)!="undefined"){ay++}return x(ak(ay))},inject:function(ay){a.each(ay,a.proxy(ah,ax))}})}function u(ax){a.extend(ax,{setLabel:function(ay){return H(ax,ay)},getLabel:function(){return w(ax)},inject:function(ay){V(ax,ay)},getNestedForms:function(){return ax.data("nestedForms")},getNestedForm:function(ay){return ax.data("nestedForms")[ay]},getPosition:function(){return q(ax.data("formIndex"))},getPreviousForm:function(){return M(ax)},getNextForm:function(){return av(ax)},removeForm:function(){return x(ax)}})}function s(ax){if(ax.maxFormsCount>0){if(ax.maxFormsCount<ax.minFormsCount){ax.maxFormsCount=ax.minFormsCount}if(ax.iniFormsCount<ax.minFormsCount||ax.iniFormsCount>ax.maxFormsCount){ax.iniFormsCount=ax.minFormsCount}}else{if(ax.iniFormsCount<ax.minFormsCount){ax.iniFormsCount=ax.minFormsCount}}if(!m()){ax.allowRemoveAll=false}}var ao=a(this).first();X(ao);var o,ag,K,au,ad,O,ab,i,C,n,h,v="input, checkbox, select, textarea",ai=[],z=false,G={addSelector:"#"+a(this).attr("id")+"_add",addNSelector:"#"+a(this).attr("id")+"_add_n",addNInputSelector:"#"+a(this).attr("id")+"_add_n_input",addNButtonSelector:"#"+a(this).attr("id")+"_add_n_button",removeLastSelector:"#"+a(this).attr("id")+"_remove_last",removeCurrentSelector:"#"+a(this).attr("id")+"_remove_current",removeAllSelector:"#"+a(this).attr("id")+"_remove_all",controlsSelector:"#"+a(this).attr("id")+"_controls",labelSelector:"#"+a(this).attr("id")+"_label",allowRemoveLast:true,allowRemoveCurrent:true,allowRemoveAll:false,allowAdd:true,allowAddN:false,removeLastConfirmation:false,removeCurrentConfirmation:false,removeAllConfirmation:true,removeLastConfirmationMsg:"Are you sure?",removeCurrentConfirmationMsg:"Are you sure?",removeAllConfirmationMsg:"Are you sure?",formTemplateSelector:"#"+a(this).attr("id")+"_template",noFormsTemplateSelector:"#"+a(this).attr("id")+"_noforms_template",separator:'<div style="width:100%; border-top:1px solid #ff0000; margin: 10px 0px;"></div>',iniFormsCount:1,maxFormsCount:20,minFormsCount:1,incrementCount:1,noFormsMsg:"No forms to display",indexFormat:"#index#",data:[],pregeneratedForms:[],nestedForms:[],isNestedForm:false,parentForm:{},beforeClone:function(){},afterClone:function(){},beforeAdd:function(){},afterAdd:function(){},afterFill:function(){},afterRemoveCurrent:function(){},beforeRemoveCurrent:function(){},insertNewForms:"after",continuousIndex:true};U(N);Z();return ao};jQuery.fn.cloneWithAttribut=function(b){if(jQuery.support.noCloneEvent){return a(this).clone(b)}else{a(this).find("*").each(function(){a(this).data("name",a(this).attr("name"))});var c=a(this).clone(b);c.find("*").each(function(){a(this).attr("name",a(this).data("name"))});return c}}})(jQuery);
/*
	Masked Input plugin for jQuery
	Licensed under the MIT license (http://digitalbush.com/projects/masked-input-plugin/#license) 
*/
(function(a){var b=(a.browser.msie?"paste":"input")+".mask",c=window.orientation!=undefined;a.mask={definitions:{9:"[0-9]",a:"[A-Za-z]","*":"[A-Za-z0-9]"},dataName:"rawMaskFn"},a.fn.extend({caret:function(a,b){if(this.length!=0){if(typeof a=="number"){b=typeof b=="number"?b:a;return this.each(function(){if(this.setSelectionRange)this.setSelectionRange(a,b);else if(this.createTextRange){var c=this.createTextRange();c.collapse(!0),c.moveEnd("character",b),c.moveStart("character",a),c.select()}})}if(this[0].setSelectionRange)a=this[0].selectionStart,b=this[0].selectionEnd;else if(document.selection&&document.selection.createRange){var c=document.selection.createRange();a=0-c.duplicate().moveStart("character",-1e5),b=a+c.text.length}return{begin:a,end:b}}},unmask:function(){return this.trigger("unmask")},mask:function(d,e){if(!d&&this.length>0){var f=a(this[0]);return f.data(a.mask.dataName)()}e=a.extend({placeholder:"_",completed:null},e);var g=a.mask.definitions,h=[],i=d.length,j=null,k=d.length;a.each(d.split(""),function(a,b){b=="?"?(k--,i=a):g[b]?(h.push(new RegExp(g[b])),j==null&&(j=h.length-1)):h.push(null)});return this.trigger("unmask").each(function(){function v(a){var b=f.val(),c=-1;for(var d=0,g=0;d<k;d++)if(h[d]){l[d]=e.placeholder;while(g++<b.length){var m=b.charAt(g-1);if(h[d].test(m)){l[d]=m,c=d;break}}if(g>b.length)break}else l[d]==b.charAt(g)&&d!=i&&(g++,c=d);if(!a&&c+1<i)f.val(""),t(0,k);else if(a||c+1>=i)u(),a||f.val(f.val().substring(0,c+1));return i?d:j}function u(){return f.val(l.join("")).val()}function t(a,b){for(var c=a;c<b&&c<k;c++)h[c]&&(l[c]=e.placeholder)}function s(a){var b=a.which,c=f.caret();if(a.ctrlKey||a.altKey||a.metaKey||b<32)return!0;if(b){c.end-c.begin!=0&&(t(c.begin,c.end),p(c.begin,c.end-1));var d=n(c.begin-1);if(d<k){var g=String.fromCharCode(b);if(h[d].test(g)){q(d),l[d]=g,u();var i=n(d);f.caret(i),e.completed&&i>=k&&e.completed.call(f)}}return!1}}function r(a){var b=a.which;if(b==8||b==46||c&&b==127){var d=f.caret(),e=d.begin,g=d.end;g-e==0&&(e=b!=46?o(e):g=n(e-1),g=b==46?n(g):g),t(e,g),p(e,g-1);return!1}if(b==27){f.val(m),f.caret(0,v());return!1}}function q(a){for(var b=a,c=e.placeholder;b<k;b++)if(h[b]){var d=n(b),f=l[b];l[b]=c;if(d<k&&h[d].test(f))c=f;else break}}function p(a,b){if(!(a<0)){for(var c=a,d=n(b);c<k;c++)if(h[c]){if(d<k&&h[c].test(l[d]))l[c]=l[d],l[d]=e.placeholder;else break;d=n(d)}u(),f.caret(Math.max(j,a))}}function o(a){while(--a>=0&&!h[a]);return a}function n(a){while(++a<=k&&!h[a]);return a}var f=a(this),l=a.map(d.split(""),function(a,b){if(a!="?")return g[a]?e.placeholder:a}),m=f.val();f.data(a.mask.dataName,function(){return a.map(l,function(a,b){return h[b]&&a!=e.placeholder?a:null}).join("")}),f.attr("readonly")||f.one("unmask",function(){f.unbind(".mask").removeData(a.mask.dataName)}).bind("focus.mask",function(){m=f.val();var b=v();u();var c=function(){b==d.length?f.caret(0,b):f.caret(b)};(a.browser.msie?c:function(){setTimeout(c,0)})()}).bind("blur.mask",function(){v(),f.val()!=m&&f.change()}).bind("keydown.mask",r).bind("keypress.mask",s).bind(b,function(){setTimeout(function(){f.caret(v(!0))},0)}),v()})}})})(jQuery)

/*
scrolltopcontrol
*/
var scrolltotop={setting:{startline:200,scrollto:0,scrollduration:500,fadeduration:[500,100]},controlHTML:'<img src="images/icon/totop.png" style="width:21px; height:21px" />',controlattrs:{offsetx:0,offsety:0},anchorkeyword:'#top',state:{isvisible:false,shouldvisible:false},scrollup:function(){if(!this.cssfixedsupport)
this.$control.css({opacity:0})
var dest=isNaN(this.setting.scrollto)?this.setting.scrollto:parseInt(this.setting.scrollto)
if(typeof dest=="string"&&jQuery('#'+dest).length==1)
dest=jQuery('#'+dest).offset().top
else
dest=0
this.$body.animate({scrollTop:dest},this.setting.scrollduration);},keepfixed:function(){var $window=jQuery(window)
var controlx=$window.scrollLeft()+$window.width()-this.$control.width()-this.controlattrs.offsetx
var controly=$window.scrollTop()+$window.height()-this.$control.height()-this.controlattrs.offsety
this.$control.css({left:controlx+'px',top:controly+'px'})},togglecontrol:function(){var scrolltop=jQuery(window).scrollTop()
if(!this.cssfixedsupport)
this.keepfixed()
this.state.shouldvisible=(scrolltop>=this.setting.startline)?true:false
if(this.state.shouldvisible&&!this.state.isvisible){this.$control.stop().animate({opacity:1},this.setting.fadeduration[0])
this.state.isvisible=true}
else if(this.state.shouldvisible==false&&this.state.isvisible){this.$control.stop().animate({opacity:0},this.setting.fadeduration[1])
this.state.isvisible=false}},init:function(){jQuery(document).ready(function($){var mainobj=scrolltotop
var iebrws=document.all
mainobj.cssfixedsupport=!iebrws||iebrws&&document.compatMode=="CSS1Compat"&&window.XMLHttpRequest
mainobj.$body=(window.opera)?(document.compatMode=="CSS1Compat"?$('html'):$('body')):$('html,body')
mainobj.$control=$('<div id="topcontrol">'+mainobj.controlHTML+'</div>').css({position:mainobj.cssfixedsupport?'fixed':'absolute',bottom:8,right:10,opacity:0,cursor:'pointer','z-index':'100003'}).attr({title:'Click To Top'}).click(function(){mainobj.scrollup();return false}).appendTo('body')
if(document.all&&!window.XMLHttpRequest&&mainobj.$control.text()!='')
mainobj.$control.css({width:mainobj.$control.width()})
mainobj.togglecontrol()
$('a[href="'+mainobj.anchorkeyword+'"]').click(function(){mainobj.scrollup()
return false})
$(window).bind('scroll resize',function(e){mainobj.togglecontrol()})})}}
scrolltotop.init()

